!function(n,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var i in r)("object"==typeof exports?exports:n)[i]=r[i]}}("undefined"!=typeof self?self:this,(function(){return function(){var n={3720:function(n){n.exports=r;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(n){}function r(n,t,r){this.low=0|n,this.high=0|t,this.unsigned=!!r}function i(n){return!0===(n&&n.__isLong__)}Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var e={},h={};function s(n,t){var r,i,s;return t?(s=0<=(n>>>=0)&&n<256)&&(i=h[n])?i:(r=o(n,(0|n)<0?-1:0,!0),s&&(h[n]=r),r):(s=-128<=(n|=0)&&n<128)&&(i=e[n])?i:(r=o(n,n<0?-1:0,!1),s&&(e[n]=r),r)}function g(n,t){if(isNaN(n))return t?k:l;if(t){if(n<0)return k;if(n>=v)return w}else{if(n<=-A)return C;if(n+1>=A)return E}return n<0?g(-n,t).neg():o(n%f|0,n/f|0,t)}function o(n,t,i){return new r(n,t,i)}r.fromInt=s,r.fromNumber=g,r.fromBits=o;var u=Math.pow;function c(n,t,r){if(0===n.length)throw Error("empty string");if("NaN"===n||"Infinity"===n||"+Infinity"===n||"-Infinity"===n)return l;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var i;if((i=n.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return c(n.substring(1),t,r).neg();for(var e=g(u(r,8)),h=l,s=0;s<n.length;s+=8){var o=Math.min(8,n.length-s),a=parseInt(n.substring(s,s+o),r);if(o<8){var f=g(u(r,o));h=h.mul(f).add(g(a))}else h=(h=h.mul(e)).add(g(a))}return h.unsigned=t,h}function a(n,t){return"number"==typeof n?g(n,t):"string"==typeof n?c(n,t):o(n.low,n.high,"boolean"==typeof t?t:n.unsigned)}r.fromString=c,r.fromValue=a;var f=4294967296,v=f*f,A=v/2,b=s(1<<24),l=s(0);r.ZERO=l;var k=s(0,!0);r.UZERO=k;var y=s(1);r.ONE=y;var B=s(1,!0);r.UONE=B;var I=s(-1);r.NEG_ONE=I;var E=o(-1,2147483647,!1);r.MAX_VALUE=E;var w=o(-1,-1,!0);r.MAX_UNSIGNED_VALUE=w;var C=o(0,-2147483648,!1);r.MIN_VALUE=C;var p=r.prototype;p.toInt=function(){return this.unsigned?this.low>>>0:this.low},p.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},p.toString=function(n){if((n=n||10)<2||36<n)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(C)){var t=g(n),r=this.div(t),i=r.mul(t).sub(this);return r.toString(n)+i.toInt().toString(n)}return"-"+this.neg().toString(n)}for(var e=g(u(n,6),this.unsigned),h=this,s="";;){var o=h.div(e),c=(h.sub(o.mul(e)).toInt()>>>0).toString(n);if((h=o).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},p.getHighBits=function(){return this.high},p.getHighBitsUnsigned=function(){return this.high>>>0},p.getLowBits=function(){return this.low},p.getLowBitsUnsigned=function(){return this.low>>>0},p.getNumBitsAbs=function(){if(this.isNegative())return this.eq(C)?64:this.neg().getNumBitsAbs();for(var n=0!=this.high?this.high:this.low,t=31;t>0&&0==(n&1<<t);t--);return 0!=this.high?t+33:t+1},p.isZero=function(){return 0===this.high&&0===this.low},p.eqz=p.isZero,p.isNegative=function(){return!this.unsigned&&this.high<0},p.isPositive=function(){return this.unsigned||this.high>=0},p.isOdd=function(){return 1==(1&this.low)},p.isEven=function(){return 0==(1&this.low)},p.equals=function(n){return i(n)||(n=a(n)),(this.unsigned===n.unsigned||this.high>>>31!=1||n.high>>>31!=1)&&(this.high===n.high&&this.low===n.low)},p.eq=p.equals,p.notEquals=function(n){return!this.eq(n)},p.neq=p.notEquals,p.ne=p.notEquals,p.lessThan=function(n){return this.comp(n)<0},p.lt=p.lessThan,p.lessThanOrEqual=function(n){return this.comp(n)<=0},p.lte=p.lessThanOrEqual,p.le=p.lessThanOrEqual,p.greaterThan=function(n){return this.comp(n)>0},p.gt=p.greaterThan,p.greaterThanOrEqual=function(n){return this.comp(n)>=0},p.gte=p.greaterThanOrEqual,p.ge=p.greaterThanOrEqual,p.compare=function(n){if(i(n)||(n=a(n)),this.eq(n))return 0;var t=this.isNegative(),r=n.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?n.high>>>0>this.high>>>0||n.high===this.high&&n.low>>>0>this.low>>>0?-1:1:this.sub(n).isNegative()?-1:1},p.comp=p.compare,p.negate=function(){return!this.unsigned&&this.eq(C)?C:this.not().add(y)},p.neg=p.negate,p.add=function(n){i(n)||(n=a(n));var t=0,r=0,e=0,h=0;return e+=(h+=(65535&this.low)+(65535&n.low))>>>16,r+=(e+=(this.low>>>16)+(n.low>>>16))>>>16,t+=(r+=(65535&this.high)+(65535&n.high))>>>16,t+=(this.high>>>16)+(n.high>>>16),o((e&=65535)<<16|(h&=65535),(t&=65535)<<16|(r&=65535),this.unsigned)},p.subtract=function(n){return i(n)||(n=a(n)),this.add(n.neg())},p.sub=p.subtract,p.multiply=function(n){if(this.isZero())return l;if(i(n)||(n=a(n)),t)return o(t.mul(this.low,this.high,n.low,n.high),t.get_high(),this.unsigned);if(n.isZero())return l;if(this.eq(C))return n.isOdd()?C:l;if(n.eq(C))return this.isOdd()?C:l;if(this.isNegative())return n.isNegative()?this.neg().mul(n.neg()):this.neg().mul(n).neg();if(n.isNegative())return this.mul(n.neg()).neg();if(this.lt(b)&&n.lt(b))return g(this.toNumber()*n.toNumber(),this.unsigned);var r=65535&this.high,e=this.low>>>16,h=65535&this.low,s=65535&n.high,u=n.low>>>16,c=65535&n.low,f=0,v=0,A=0,k=0;return A+=(k+=h*c)>>>16,v+=(A+=e*c)>>>16,A&=65535,v+=(A+=h*u)>>>16,f+=(v+=r*c)>>>16,v&=65535,f+=(v+=e*u)>>>16,v&=65535,f+=(v+=h*s)>>>16,f+=(this.high>>>16)*c+r*u+e*s+h*(n.high>>>16),o((A&=65535)<<16|(k&=65535),(f&=65535)<<16|(v&=65535),this.unsigned)},p.mul=p.multiply,p.divide=function(n){if(i(n)||(n=a(n)),n.isZero())throw Error("division by zero");var r,e,h;if(t)return this.unsigned||-2147483648!==this.high||-1!==n.low||-1!==n.high?o((this.unsigned?t.div_u:t.div_s)(this.low,this.high,n.low,n.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?k:l;if(this.unsigned){if(n.unsigned||(n=n.toUnsigned()),n.gt(this))return k;if(n.gt(this.shru(1)))return B;h=k}else{if(this.eq(C))return n.eq(y)||n.eq(I)?C:n.eq(C)?y:(r=this.shr(1).div(n).shl(1)).eq(l)?n.isNegative()?y:I:(e=this.sub(n.mul(r)),h=r.add(e.div(n)));if(n.eq(C))return this.unsigned?k:l;if(this.isNegative())return n.isNegative()?this.neg().div(n.neg()):this.neg().div(n).neg();if(n.isNegative())return this.div(n.neg()).neg();h=l}for(e=this;e.gte(n);){r=Math.max(1,Math.floor(e.toNumber()/n.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),c=s<=48?1:u(2,s-48),f=g(r),v=f.mul(n);v.isNegative()||v.gt(e);)v=(f=g(r-=c,this.unsigned)).mul(n);f.isZero()&&(f=y),h=h.add(f),e=e.sub(v)}return h},p.div=p.divide,p.modulo=function(n){return i(n)||(n=a(n)),t?o((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,n.low,n.high),t.get_high(),this.unsigned):this.sub(this.div(n).mul(n))},p.mod=p.modulo,p.rem=p.modulo,p.not=function(){return o(~this.low,~this.high,this.unsigned)},p.and=function(n){return i(n)||(n=a(n)),o(this.low&n.low,this.high&n.high,this.unsigned)},p.or=function(n){return i(n)||(n=a(n)),o(this.low|n.low,this.high|n.high,this.unsigned)},p.xor=function(n){return i(n)||(n=a(n)),o(this.low^n.low,this.high^n.high,this.unsigned)},p.shiftLeft=function(n){return i(n)&&(n=n.toInt()),0==(n&=63)?this:n<32?o(this.low<<n,this.high<<n|this.low>>>32-n,this.unsigned):o(0,this.low<<n-32,this.unsigned)},p.shl=p.shiftLeft,p.shiftRight=function(n){return i(n)&&(n=n.toInt()),0==(n&=63)?this:n<32?o(this.low>>>n|this.high<<32-n,this.high>>n,this.unsigned):o(this.high>>n-32,this.high>=0?0:-1,this.unsigned)},p.shr=p.shiftRight,p.shiftRightUnsigned=function(n){if(i(n)&&(n=n.toInt()),0===(n&=63))return this;var t=this.high;return n<32?o(this.low>>>n|t<<32-n,t>>>n,this.unsigned):o(32===n?t:t>>>n-32,0,this.unsigned)},p.shru=p.shiftRightUnsigned,p.shr_u=p.shiftRightUnsigned,p.toSigned=function(){return this.unsigned?o(this.low,this.high,!1):this},p.toUnsigned=function(){return this.unsigned?this:o(this.low,this.high,!0)},p.toBytes=function(n){return n?this.toBytesLE():this.toBytesBE()},p.toBytesLE=function(){var n=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&n,n>>>8&255,n>>>16&255,n>>>24]},p.toBytesBE=function(){var n=this.high,t=this.low;return[n>>>24,n>>>16&255,n>>>8&255,255&n,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(n,t,i){return i?r.fromBytesLE(n,t):r.fromBytesBE(n,t)},r.fromBytesLE=function(n,t){return new r(n[0]|n[1]<<8|n[2]<<16|n[3]<<24,n[4]|n[5]<<8|n[6]<<16|n[7]<<24,t)},r.fromBytesBE=function(n,t){return new r(n[4]<<24|n[5]<<16|n[6]<<8|n[7],n[0]<<24|n[1]<<16|n[2]<<8|n[3],t)}},1945:function(n,t,r){"use strict";r.d(t,{mu7:function(){return h},pe5:function(){return g},vJ6:function(){return e},xVS:function(){return s}});var i=r(6306),e={code:1103044,message:i.b0},h={code:1103074,message:"video track is not readable"},s={code:1103072,message:"not support beauty effect"},g={code:1103075,message:"beauty effect overload"}},6306:function(n,t,r){"use strict";r.d(t,{$E:function(){return u},E3:function(){return e},Fq:function(){return a},GJ:function(){return i},Qx:function(){return o},b0:function(){return s},eW:function(){return c},v4:function(){return g},wM:function(){return h}});r(3720),r(1945);var i=Promise;document;var e="room not exist",h="device is not found",s="stream is not from zego",g="input param error",o="local stream wrong",u="no preview",c="publish stream no found",a="network is broken"},9399:function(n,t,r){"use strict";function i(n){return void 0===n}function e(n){return n instanceof MediaStream}r.d(t,{Qo:function(){return i},gE:function(){return e}})},568:function(n,t,r){"use strict";r.d(t,{Z:function(){return e}});var i=r(9399);function e(n,t){if(n&&!(0,i.gE)(n)&&n.zegoStream){if(t.info("cu.gs type:zego"),(0,i.gE)(n.stream))return n.stream;throw new Error("The ZegoLocalStream type requires first calling the capture api to capture the stream")}return n}},8814:function(n,t,r){"use strict";r.d(t,{a:function(){return h}});var i=function(n,t,r,i){return new(r||(r=Promise))((function(e,h){function s(n){try{o(i.next(n))}catch(n){h(n)}}function g(n){try{o(i.throw(n))}catch(n){h(n)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(s,g)}o((i=i.apply(n,t||[])).next())}))},e=function(n,t){var r,i,e,h,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function g(g){return function(o){return function(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(s=0)),s;)try{if(r=1,i&&(e=2&g[0]?i.return:g[0]?i.throw||((e=i.return)&&e.call(i),0):i.next)&&!(e=e.call(i,g[1])).done)return e;switch(i=0,e&&(g=[2&g[0],e.value]),g[0]){case 0:case 1:e=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,i=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(!(e=s.trys,(e=e.length>0&&e[e.length-1])||6!==g[0]&&2!==g[0])){s=0;continue}if(3===g[0]&&(!e||g[1]>e[0]&&g[1]<e[3])){s.label=g[1];break}if(6===g[0]&&s.label<e[1]){s.label=e[1],e=g;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(g);break}e[2]&&s.ops.pop(),s.trys.pop();continue}g=t.call(n,s)}catch(n){g=[6,n],i=0}finally{r=e=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,o])}}},h=function(){function n(){this.isFirstNode=!0,this.isLastNode=!0,this.hasAnother=!1}return n.prototype.connect=function(n){return i(this,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return this.next=n,this.output?[4,n.setInput(this.output)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,n]}}))}))},n.prototype.disconnect=function(n){return i(this,void 0,void 0,(function(){return e(this,(function(t){switch(t.label){case 0:return this.next?[4,this.next.setInput(null,n)]:[3,2];case 1:t.sent(),this.next=void 0,t.label=2;case 2:return[2]}}))}))},n.prototype.setNodePos=function(n,t,r){void 0!==n&&(this.isFirstNode=n),void 0!==t&&(this.isLastNode=t),"boolean"==typeof r&&(this.hasAnother=!r)},n}()}},t={};function r(i){var e=t[i];if(void 0!==e)return e.exports;var h=t[i]={exports:{}};return n[i](h,h.exports,r),h.exports}r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,{a:t}),t},r.d=function(n,t){for(var i in t)r.o(t,i)&&!r.o(n,i)&&Object.defineProperty(n,i,{enumerable:!0,get:t[i]})},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})};var i={};return function(){"use strict";r.r(i),r.d(i,{BeautyEffect:function(){return m}});var n=r(1945),t=r(6306),e=r(9399),h=r(568),s=function(n,t,r,i){return new(r||(r=Promise))((function(e,h){function s(n){try{o(i.next(n))}catch(n){h(n)}}function g(n){try{o(i.throw(n))}catch(n){h(n)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(s,g)}o((i=i.apply(n,t||[])).next())}))},g=function(n,t){var r,i,e,h,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function g(g){return function(o){return function(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(s=0)),s;)try{if(r=1,i&&(e=2&g[0]?i.return:g[0]?i.throw||((e=i.return)&&e.call(i),0):i.next)&&!(e=e.call(i,g[1])).done)return e;switch(i=0,e&&(g=[2&g[0],e.value]),g[0]){case 0:case 1:e=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,i=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(!(e=s.trys,(e=e.length>0&&e[e.length-1])||6!==g[0]&&2!==g[0])){s=0;continue}if(3===g[0]&&(!e||g[1]>e[0]&&g[1]<e[3])){s.label=g[1];break}if(6===g[0]&&s.label<e[1]){s.label=e[1],e=g;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(g);break}e[2]&&s.ops.pop(),s.trys.pop();continue}g=t.call(n,s)}catch(n){g=[6,n],i=0}finally{r=e=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,o])}}},o="zc.p.0.sbe.3",u=function(){function n(n){this.t=n,this.recordedFrameCount=0,this.targetFrameRate=0,this.recordingDuration=0}return n.prototype.startRecordBeautyEffectOutput=function(n){return s(this,void 0,void 0,(function(){var r,i,e,h=this;return g(this,(function(s){switch(s.label){case 0:return r=6,this.recordID?(this.t.warn(o+" detector is already recording"),[2,{result:!0}]):(i=(new Date).getTime(),this.recordID=i,this.targetFrameRate=n,this.recordedFrameCount=0,this.recordingDuration=r,[4,new t.GJ((function(n){window.setTimeout(n,1e3*h.recordingDuration)}))]);case 1:return s.sent(),this.recordID!==i?(this.recordID=void 0,[2,{result:!0}]):(this.recordID=void 0,e=this.recordedFrameCount/r,this.recordedFrameCount<this.targetFrameRate*this.recordingDuration/2?(this.t.warn(o+" detect effect overload: current fps: "+e),[2,{result:!1,targetFPS:this.targetFrameRate,currentFPS:e}]):(this.t.info(o+" detect effect current fps: "+e),[2,{result:!0}]))}}))}))},n.prototype.stopRecordBeautyEffectOutput=function(){this.recordedFrameCount=this.targetFrameRate=0,this.recordID=void 0},n.prototype.addFrame=function(){this.recordID&&(this.recordedFrameCount+=1)},n}();function c(n){for(var t=n,r="",i=0;i<t.length;i++){var e=t.charCodeAt(i),h=e;e>=65&&e<=90&&(h=(e-65-13+26)%26+65),e>=97&&e<=122&&(h=(e-97-13+26)%26+97),r+=String.fromCharCode(h)}return r}var a,f=function(){function n(n,t,r){this.gl=n,this.width=t,this.height=r,this.type="baseShader",this.program=null,this.program=null}return n.prototype.setEffectConfig=function(n){},n.prototype.setConstUniforms=function(){},n.prototype.resetResolution=function(n,t){this.width=n||this.width,this.height=t||this.height},n.prototype.render=function(){},n.prototype.renderPreTextures=function(n,t,r){},n.prototype.makeProgram=function(n,t){var r=this.gl,i=c(n),e=c(t),h=this.makeShader(i,r.VERTEX_SHADER),s=this.makeShader(e,r.FRAGMENT_SHADER),g=r.createProgram();return r.attachShader(g,h),r.attachShader(g,s),r.linkProgram(g),r.getProgramParameter(g,r.LINK_STATUS),g},n.prototype.release=function(){},n.prototype.makeShader=function(n,t){var r=this.gl,i=r.createShader(t);return r.shaderSource(i,n),r.compileShader(i),r.getShaderParameter(i,r.COMPILE_STATUS),i},n}(),v="nggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez uvtuc sybng grkOyheJvqguBssfrg;\nhavsbez uvtuc sybng grkOyheUrvtugBssfrg;\ninelvat irp2 i_grkpbbeq0;\ninelvat irp4 grkgherFuvsg_1;\ninelvat irp4 grkgherFuvsg_2;\ninelvat irp4 grkgherFuvsg_3;\ninelvat irp4 grkgherFuvsg_4;\nibvq znva()\n{\n  ty_Cbfvgvba = nCbfvgvba;\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\n\n  irp2 fvatyrFgrcBssfrg = irp2(grkOyheJvqguBssfrg, grkOyheUrvtugBssfrg)*2.5;\n\n  grkgherFuvsg_1 = irp4(nGrkPbbeqvangr.kl - fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + fvatyrFgrcBssfrg);\n  grkgherFuvsg_2 = irp4(nGrkPbbeqvangr.kl - 2.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 2.0 * fvatyrFgrcBssfrg);\n  grkgherFuvsg_3 = irp4(nGrkPbbeqvangr.kl - 3.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 3.0 * fvatyrFgrcBssfrg);\n  grkgherFuvsg_4 = irp4(nGrkPbbeqvangr.kl - 4.0 * fvatyrFgrcBssfrg, nGrkPbbeqvangr.kl + 4.0 * fvatyrFgrcBssfrg);\n}",A="cerpvfvba zrqvhzc sybng;\nhavsbez fnzcyre2Q hGrkgher;\ninelvat irp2 i_grkpbbeq0;\ninelvat uvtuc irp4 grkgherFuvsg_1;\ninelvat uvtuc irp4 grkgherFuvsg_2;\ninelvat uvtuc irp4 grkgherFuvsg_3;\ninelvat uvtuc irp4 grkgherFuvsg_4;\nibvq znva(ibvq) { \n  zrqvhzc irp3 fhz = grkgher2Q(hGrkgher, i_grkpbbeq0).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_1.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_1.mj).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_2.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_2.mj).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_3.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_3.mj).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_4.kl).eto;\n  fhz += grkgher2Q(hGrkgher, grkgherFuvsg_4.mj).eto;\n  ty_SentPbybe = irp4(fhz * 0.1111, 1.0); \n}",b=(a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])},a(n,t)},function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=n}a(n,t),n.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),l=function(n){function t(t,r,i){var e=n.call(this,t,r,i)||this;return e.width=r,e.height=i,e.type="BlurShader",e.blurXProgram=null,e.blurYProgram=null,e.diffProgram=null,e.uIntensity=null,e.smoothIntensity=.5,e.blurTextureList=[],e.blurBufferList=[],e.blurXProgram=e.makeProgram(v,A),e.setBorderBlurProgram(e.blurXProgram,1/(r||1),0),e.blurYProgram=e.makeProgram(v,A),e.setBorderBlurProgram(e.blurYProgram,0,1/(i||1)),e.diffProgram=e.makeProgram("nggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez zng4 hCZIZngevk;\ninelvat irp2 i_grkpbbeq0;\nibvq znva()\n{\n  // ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\n  ty_Cbfvgvba = nCbfvgvba;\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\n}","cerpvfvba zrqvhzc sybng;\nhavsbez fnzcyre2Q hGrkgher;\ninelvat irp2 i_grkpbbeq0;\nhavsbez fnzcyre2Q oyheGrkgher;\nibvq znva(ibvq) {\n  irp4 vPbybe = grkgher2Q(oyheGrkgher, i_grkpbbeq0);\n  irp4 zrnaPbybe = grkgher2Q(hGrkgher, i_grkpbbeq0);\n  irp4 qvssPbybe = vPbybe - zrnaPbybe;\n  qvssPbybe.e = zva(qvssPbybe.e * 50.0 * qvssPbybe.e, 1.0);\n  qvssPbybe.t = zva(qvssPbybe.t * 50.0 * qvssPbybe.t, 1.0);\n  qvssPbybe.o = zva(qvssPbybe.o * 50.0 * qvssPbybe.o, 1.0);\n  ty_SentPbybe = irp4(qvssPbybe.eto, 1.0);\n}"),e.setDiffBlurProgram(e.diffProgram),e.program=e.makeProgram("\nnggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\ninelvat irp2 i_grkpbbeq0;\nhavsbez sybng jvqguBssfrg;\nhavsbez sybng urvtugBssfrg;\ninelvat irp2 grkgherFuvsg_1;\ninelvat irp2 grkgherFuvsg_2;\ninelvat irp2 grkgherFuvsg_3;\ninelvat irp2 grkgherFuvsg_4;\nibvq znva()\n{\n  ty_Cbfvgvba = nCbfvgvba;\n  i_grkpbbeq0 = nGrkPbbeqvangr.kl;\n  grkgherFuvsg_1 = irp2(i_grkpbbeq0 + 0.5 * irp2(jvqguBssfrg,urvtugBssfrg));\n  grkgherFuvsg_2 = irp2(i_grkpbbeq0 + 0.5 * irp2(-jvqguBssfrg,-urvtugBssfrg));\n  grkgherFuvsg_3 = irp2(i_grkpbbeq0 + 0.5 * irp2(-jvqguBssfrg,urvtugBssfrg));\n  grkgherFuvsg_4 = irp2(i_grkpbbeq0 + 0.5 * irp2(jvqguBssfrg,-urvtugBssfrg));\n}\n","\ncerpvfvba zrqvhzc sybng;\nhavsbez fnzcyre2Q hGrkgher;\ninelvat irp2 i_grkpbbeq0;\nhavsbez fnzcyre2Q oyheGrkgher;\nhavsbez fnzcyre2Q oyheQvssGrkgher;\nhavsbez ybjc sybng oyheNycun;\nibvq znva(ibvq) {\n  ybjc irp4 vPbybe = grkgher2Q(hGrkgher, i_grkpbbeq0);\n  ybjc irp4 zrnaPbybe = grkgher2Q(oyheGrkgher, i_grkpbbeq0);\n  ybjc irp4 inePbybe = grkgher2Q(oyheQvssGrkgher, i_grkpbbeq0);\n  ybjc sybng nycun = oyheNycun * 1.0;\n  ybjc sybng gurgn = 0.1;\n  zrqvhzc sybng c = pynzc((zva(vPbybe.e, zrnaPbybe.e - 0.1) - 0.2) * 4.0, 0.0, 1.0);\n  zrqvhzc sybng zrnaIne = znk(znk(inePbybe.e, inePbybe.t), inePbybe.o);\n  zrqvhzc sybng xZva = 0.1;\n  ybjc irp3 erfhygPbybe;\n  xZva = (1.0 - zrnaIne / (zrnaIne + gurgn)) * c * nycun;\n  erfhygPbybe = zvk(vPbybe.eto, zrnaPbybe.eto, xZva);\n  erfhygPbybe = zvk(vPbybe.eto, erfhygPbybe, zva(1.0,nycun));\n  ty_SentPbybe = irp4(erfhygPbybe,1.0);\n}"),e.initBlurBuffer(),e}return b(t,n),t.prototype.setEffectConfig=function(n){isNaN(n.smoothIntensity)||(this.smoothIntensity=n.smoothIntensity/100)},t.prototype.render=function(){this.gl.uniform1f(this.uIntensity,this.smoothIntensity)},t.prototype.initBlurBuffer=function(){var n=this,t=this.gl;this.blurTextureList.forEach((function(t){var r;t&&(null===(r=n.gl)||void 0===r||r.deleteTexture(t))})),this.blurBufferList.forEach((function(t){var r;t&&(null===(r=n.gl)||void 0===r||r.deleteFramebuffer(t))})),this.blurTextureList=[],this.blurBufferList=[];for(var r=0;r<3;r++){var i=t.createTexture();if(!i)return;t.bindTexture(t.TEXTURE_2D,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null);var e=t.createFramebuffer();if(!e)return;t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),this.blurTextureList.push(i),this.blurBufferList.push(e)}},t.prototype.renderPreTextures=function(n,t,r){var i=this,e=this.gl,h=[0,1,0],s=[1,1,2];[this.blurXProgram,this.blurYProgram,this.diffProgram].forEach((function(g,o){if(g){e.useProgram(g);var u=e.getUniformLocation(g,"uTexture");e.uniform1i(u,h[o]);var c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW);var a=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,a),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(t),e.STATIC_DRAW);var f=e.getAttribLocation(g,"aPosition");e.enableVertexAttribArray(f),e.vertexAttribPointer(f,3,e.FLOAT,!1,0,0);var v=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,v),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW);var A=e.getAttribLocation(g,"aTexCoordinate");e.enableVertexAttribArray(A),e.vertexAttribPointer(A,2,e.FLOAT,!1,0,0),e.bindFramebuffer(e.FRAMEBUFFER,i.blurBufferList[o]),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0),e.activeTexture(e.TEXTURE0+s[o]),e.bindTexture(e.TEXTURE_2D,i.blurTextureList[o])}}))},t.prototype.setConstUniforms=function(){var n=this.width,t=this.height,r=this.program;if(r){var i=this.gl;i.useProgram(r);var e=i.getUniformLocation(r,"widthOffset");i.uniform1f(e,1/n);var h=i.getUniformLocation(r,"heightOffset");i.uniform1f(h,1/t),this.uIntensity=i.getUniformLocation(r,"blurAlpha"),i.uniform1f(this.uIntensity,this.smoothIntensity);var s=i.getUniformLocation(r,"blurTexture");i.uniform1i(s,1);var g=i.getUniformLocation(r,"blurDiffTexture");i.uniform1i(g,2)}},t.prototype.resetResolution=function(n,t){this.width=n||this.width,this.height=t||this.height,this.blurXProgram&&this.setBorderBlurProgram(this.blurXProgram,1/(n||1),0),this.blurYProgram&&this.setBorderBlurProgram(this.blurYProgram,0,1/(t||1)),this.setConstUniforms(),this.initBlurBuffer()},t.prototype.setBorderBlurProgram=function(n,t,r){var i=this.gl;i.useProgram(n);var e=i.getUniformLocation(n,"texBlurWidthOffset");i.uniform1f(e,t);var h=i.getUniformLocation(n,"texBlurHeightOffset");i.uniform1f(h,r)},t.prototype.setDiffBlurProgram=function(n){var t=this.gl;t.useProgram(n);var r=t.getUniformLocation(n,"blurTexture");t.uniform1i(r,1)},t}(f),k=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])},n(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),y=function(n){function t(t,r,i){var e=n.call(this,t,r,i)||this;return e.width=r,e.height=i,e.type="LightShader",e.uLightIntensity=null,e.uRedIntensity=null,e.whitenIntensity=.5,e.rosyIntensity=.5,e.program=e.makeProgram("cerpvfvba uvtuc sybng;\nnggevohgr irp2 nGrkPbbeqvangr;\nnggevohgr irp4 nCbfvgvba;\nhavsbez zng4 hCZIZngevk;\ninelvat irp2 iGrkPbbeq;\nibvq znva() {\n    ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\n    iGrkPbbeq = nGrkPbbeqvangr;\n}","cerpvfvba uvtuc sybng;\ninelvat irp2 iGrkPbbeq;\nhavsbez fnzcyre2Q hGrkgher;\nhavsbez sybng vagrafvgl;\nhavsbez sybng ebflVagrafvgl;\nirp3 oevtugarffNaqPbagenfg(irp3 pbybe){\n  sybng v = vagrafvgl * 1.0;\n  sybng CV = 3.1415926;\n  sybng O = 0.12 * v;\n  sybng p = 0.1 * v;\n  sybng x = gna((45. + 44. * p) / 180.0 * CV);\n  pbybe = ((pbybe*255.0 - 127.5 * (1.0 - O)) * x + 127.5 * (1.0 + O)) / 255.0;\n  erghea pbybe;\n}\nibvq znva() {\n  irp4 grkgherPbybe = grkgher2Q(hGrkgher, iGrkPbbeq);\n  grkgherPbybe = irp4(oevtugarffNaqPbagenfg(grkgherPbybe.eto), grkgherPbybe.j);\n  grkgherPbybe.e = zva(grkgherPbybe.e + 0.06 * ebflVagrafvgl, 1.0);\n  ty_SentPbybe = grkgherPbybe;\n}"),e}return k(t,n),t.prototype.setEffectConfig=function(n){isNaN(n.whitenIntensity)||(this.whitenIntensity=n.whitenIntensity/100),isNaN(n.rosyIntensity)||(this.rosyIntensity=n.rosyIntensity/100)},t.prototype.render=function(){var n=this.gl;n.uniform1f(this.uLightIntensity,this.whitenIntensity),n.uniform1f(this.uRedIntensity,this.rosyIntensity)},t.prototype.setConstUniforms=function(){var n=this.program;if(n){var t=this.gl;t.useProgram(n),this.uLightIntensity=t.getUniformLocation(n,"intensity"),t.uniform1f(this.uLightIntensity,this.whitenIntensity),this.uRedIntensity=t.getUniformLocation(n,"rosyIntensity"),t.uniform1f(this.uRedIntensity,this.rosyIntensity);var r=t.getUniformLocation(n,"uPMVMatrix");t.uniformMatrix4fv(r,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},t}(f),B=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])},n(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),I=function(n,t,r,i){return new(r||(r=Promise))((function(e,h){function s(n){try{o(i.next(n))}catch(n){h(n)}}function g(n){try{o(i.throw(n))}catch(n){h(n)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(s,g)}o((i=i.apply(n,t||[])).next())}))},E=function(n,t){var r,i,e,h,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function g(g){return function(o){return function(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(s=0)),s;)try{if(r=1,i&&(e=2&g[0]?i.return:g[0]?i.throw||((e=i.return)&&e.call(i),0):i.next)&&!(e=e.call(i,g[1])).done)return e;switch(i=0,e&&(g=[2&g[0],e.value]),g[0]){case 0:case 1:e=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,i=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(!(e=s.trys,(e=e.length>0&&e[e.length-1])||6!==g[0]&&2!==g[0])){s=0;continue}if(3===g[0]&&(!e||g[1]>e[0]&&g[1]<e[3])){s.label=g[1];break}if(6===g[0]&&s.label<e[1]){s.label=e[1],e=g;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(g);break}e[2]&&s.ops.pop(),s.trys.pop();continue}g=t.call(n,s)}catch(n){g=[6,n],i=0}finally{r=e=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,o])}}},w=function(n){function r(t,r,i){var e=n.call(this,t,r,i)||this;return e.width=r,e.height=i,e.type="LowLightShader",e.uIntensity=null,e.lowlightEnhancement=!1,e.lutTex=null,e.lutImg=null,e.lutTexIdx=10,e.uLutTex=null,e.program=e.makeProgram("\nnggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez sybng grkryJvqgu;\nhavsbez sybng grkryUrvtug;\ninelvat irp2 grkgherPbbeqvangr[9];\ninelvat irp2 grkgherPbbeqvangr2;\nhavsbez zng4 hCZIZngevk;\nibvq znva(){\n    ty_Cbfvgvba = hCZIZngevk * nCbfvgvba;\n    grkgherPbbeqvangr2 = nGrkPbbeqvangr.kl;\n    grkgherPbbeqvangr[0] = nGrkPbbeqvangr.kl;\n    irp2 jvqguFgrc = irp2(grkryJvqgu, 0.0);\n    irp2 urvtugFgrc = irp2(0.0, grkryUrvtug);\n    irp2 jvqguUrvtugFgrc = irp2(grkryJvqgu, grkryUrvtug);\n    irp2 jvqguArtngvirUrvtugFgrc = irp2(grkryJvqgu, -grkryUrvtug);\n    \n    grkgherPbbeqvangr[0] = nGrkPbbeqvangr.kl;\n    grkgherPbbeqvangr[1] = nGrkPbbeqvangr.kl - jvqguFgrc;\n    grkgherPbbeqvangr[2] = nGrkPbbeqvangr.kl + jvqguFgrc;\n    \n    grkgherPbbeqvangr[3] = nGrkPbbeqvangr.kl - urvtugFgrc;\n    grkgherPbbeqvangr[4] = nGrkPbbeqvangr.kl - jvqguUrvtugFgrc;\n    grkgherPbbeqvangr[5] = nGrkPbbeqvangr.kl + jvqguArtngvirUrvtugFgrc;\n    \n    grkgherPbbeqvangr[6] = nGrkPbbeqvangr.kl + urvtugFgrc;\n    grkgherPbbeqvangr[7] = nGrkPbbeqvangr.kl - jvqguArtngvirUrvtugFgrc;\n    grkgherPbbeqvangr[8] = nGrkPbbeqvangr.kl + jvqguUrvtugFgrc;\n}\n","cerpvfvba uvtuc sybng;\ninelvat uvtuc irp2 grkgherPbbeqvangr[9];\ninelvat uvtuc irp2 grkgherPbbeqvangr2;\nhavsbez fnzcyre2Q hGrkgher;\nhavsbez fnzcyre2Q vachgVzntrGrkgher2;\nhavsbez uvtuc zng3 zngLHIgbETO;\nhavsbez uvtuc zng3 zngETOgbLHI;\nhavsbez sybng hVagrafvgl;\npbafg irp3 pbzcIrp = irp3(-0.0/255.0, -128.0/255.0, -128.0/255.0);\nirp4 eto2lhi(irp4 vachgETO) {\n    irp3 bhgchgLHI;\n    bhgchgLHI = zngETOgbLHI * vachgETO.eto;\n    bhgchgLHI -= pbzcIrp;\n    erghea irp4(pynzc(bhgchgLHI,\n                        irp3(0.0, 0.0, 0.0),\n                        irp3(1.0, 1.0, 1.0)),\n                        vachgETO.n);\n}\nirp2 fnghengvba(irp2 bet, sybng snpgbe) {\n    irp2 zbq = irp2((bet.k - 128.0/255.0) * snpgbe + 128.0/255.0,\n                    (bet.l - 128.0/255.0) * snpgbe + 128.0/255.0);\n    erghea pynzc(zbq, irp2(0.0, 0.0), irp2(1.0, 1.0));\n}\nirp4 lhi2eto(irp4 vachgLHI) {\n    irp3 bhgchgETO;\n    vachgLHI.eto += pbzcIrp;\n    bhgchgETO = zngLHIgbETO * vachgLHI.eto;\n    erghea irp4(pynzc(bhgchgETO,\n                        irp3(0.0, 0.0, 0.0),\n                        irp3(1.0, 1.0, 1.0)),\n                        vachgLHI.n);\n}\nibvq znva(){\n    irp4 lhi[9];\n    sbe(vag v = 0; v < 9; v++){\n        lhi[v] = eto2lhi(grkgher2Q(hGrkgher, grkgherPbbeqvangr[v]));\n    }\n    sybng fzbbguL = 0.0;\n    fzbbguL += 1.0*lhi[4].e + 2.0*lhi[3].e + 1.0*lhi[5].e;\n    fzbbguL += 2.0*lhi[1].e + 4.0*lhi[0].e + 2.0*lhi[2].e;\n    fzbbguL += 1.0*lhi[7].e + 2.0*lhi[6].e + 1.0*lhi[8].e;\n    fzbbguL = fzbbguL / 16.0;\n    sybng bhgchgL = grkgher2Q(vachgVzntrGrkgher2, irp2(fzbbguL, lhi[0].e)).e;\n    irp3 arjLHI = irp3(zvk(fzbbguL, bhgchgL, hVagrafvgl), lhi[0].to);\n    ty_SentPbybe = lhi2eto(irp4(arjLHI.eto, lhi[0].n));\n}\n"),e}return B(r,n),r.prototype.setEffectConfig=function(n){this.lowlightEnhancement=1===n.lowlightEnhancement},r.prototype.release=function(){this.gl.deleteTexture(this.lutTex)},r.prototype.render=function(){var n=this.gl;n.uniform1f(this.uIntensity,this.lowlightEnhancement?.6:0);var t=this,r=t.program,i=t.width,e=t.height,h=t.lutTex;if(r){var s=n.getUniformLocation(r,"texelWidth");n.uniform1f(s,1/i);var g=n.getUniformLocation(r,"texelHeight");n.uniform1f(g,1/e),n.activeTexture(n.TEXTURE0+this.lutTexIdx),n.bindTexture(n.TEXTURE_2D,h)}},r.prototype.setConstUniforms=function(){return I(this,void 0,void 0,(function(){var n,r,i,e,h,s,g,o,u,c,a=this;return E(this,(function(f){switch(f.label){case 0:return n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],r=[1,1,1,0,-.344,1.772,1.402,-.714,0],i=[.298973,-.168721,.500019,.58706,-.331298,-.41873,.113967,.500019,-.081289],(e=this.program)?((h=this.gl).useProgram(e),this.uIntensity=h.getUniformLocation(e,"uIntensity"),s=h.getUniformLocation(e,"matYUVtoRGB"),h.uniformMatrix3fv(s,!1,r),g=h.getUniformLocation(e,"matRGBtoYUV"),h.uniformMatrix3fv(g,!1,i),o=h.getUniformLocation(e,"uPMVMatrix"),h.uniformMatrix4fv(o,!1,n),u=h.getUniformLocation(e,"inputImageTexture2"),c=this,[4,new t.GJ((function(n){var t=h.createTexture(),r=a.lutTexIdx,i=a.lutImg;i||(i=new Image);i.onload=function(){h.useProgram(e),a.lutImg=i,h.activeTexture(h.TEXTURE0+r),h.bindTexture(h.TEXTURE_2D,t),h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1),h.texImage2D(h.TEXTURE_2D,0,h.LUMINANCE,h.LUMINANCE,h.UNSIGNED_BYTE,i),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.uniform1i(u,r),t&&n(t)},i.src="\ndata:image/png;base64,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"}))]):[2];case 1:return c.lutTex=f.sent(),[2]}}))}))},r}(f),C=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])},n(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),p=function(n){function t(t,r,i){var e=n.call(this,t,r,i)||this;return e.width=r,e.height=i,e.type="SharpnessShader",e.uIntensity=null,e.sharpenIntensity=.5,e.program=e.makeProgram("\nnggevohgr irp4 nCbfvgvba;\nnggevohgr irp4 nGrkPbbeqvangr;\nhavsbez sybng vzntrJvqguSnpgbe;\nhavsbez sybng vzntrUrvtugSnpgbe;\nhavsbez sybng funecarff; \ninelvat irp2 iGrkPbbeq;\ninelvat irp2 yrsgGrkgherPbbeqvangr;\ninelvat irp2 evtugGrkgherPbbeqvangr;\ninelvat irp2 gbcGrkgherPbbeqvangr;\ninelvat irp2 obggbzGrkgherPbbeqvangr;\ninelvat sybng pragreZhygvcyvre;\ninelvat sybng rqtrZhygvcyvre;\nibvq znva() {\n  ty_Cbfvgvba = nCbfvgvba;\n  irp2 jvqguFgrc = irp2(vzntrJvqguSnpgbe, 0.0);\n  irp2 urvtugFgrc = irp2(0.0, vzntrUrvtugSnpgbe);\n  iGrkPbbeq = nGrkPbbeqvangr.kl;\n  yrsgGrkgherPbbeqvangr = nGrkPbbeqvangr.kl - jvqguFgrc;\n  evtugGrkgherPbbeqvangr = nGrkPbbeqvangr.kl + jvqguFgrc;\n  gbcGrkgherPbbeqvangr = nGrkPbbeqvangr.kl + urvtugFgrc;\n  obggbzGrkgherPbbeqvangr = nGrkPbbeqvangr.kl - urvtugFgrc;\n  pragreZhygvcyvre = 1.0 + 4.0 * funecarff;\n  rqtrZhygvcyvre = funecarff;\n}\n","\ncerpvfvba uvtuc sybng;\ninelvat uvtuc irp2 iGrkPbbeq;\ninelvat uvtuc irp2 yrsgGrkgherPbbeqvangr;\ninelvat uvtuc irp2 evtugGrkgherPbbeqvangr;\ninelvat uvtuc irp2 gbcGrkgherPbbeqvangr;\ninelvat uvtuc irp2 obggbzGrkgherPbbeqvangr;\ninelvat uvtuc sybng pragreZhygvcyvre;\ninelvat uvtuc sybng rqtrZhygvcyvre;\nhavsbez fnzcyre2Q hGrkgher;\nibvq znva() {\n  zrqvhzc irp4 nPbybe = grkgher2Q(hGrkgher, iGrkPbbeq);\n  zrqvhzc irp3 grkgherPbybe = nPbybe.eto;\n  zrqvhzc irp3 yrsgGrkgherPbybe = grkgher2Q(hGrkgher, yrsgGrkgherPbbeqvangr).eto;\n  zrqvhzc irp3 evtugGrkgherPbybe = grkgher2Q(hGrkgher, evtugGrkgherPbbeqvangr).eto;\n  zrqvhzc irp3 gbcGrkgherPbybe = grkgher2Q(hGrkgher, gbcGrkgherPbbeqvangr).eto;\n  zrqvhzc irp3 obggbzGrkgherPbybe = grkgher2Q(hGrkgher, obggbzGrkgherPbbeqvangr).eto;\n  ty_SentPbybe = irp4((grkgherPbybe * pragreZhygvcyvre - (yrsgGrkgherPbybe * rqtrZhygvcyvre + evtugGrkgherPbybe * rqtrZhygvcyvre + gbcGrkgherPbybe * rqtrZhygvcyvre + obggbzGrkgherPbybe * rqtrZhygvcyvre)), nPbybe.n);\n}"),e}return C(t,n),t.prototype.setEffectConfig=function(n){isNaN(n.sharpenIntensity)||(this.sharpenIntensity=n.sharpenIntensity/100)},t.prototype.render=function(){this.gl.uniform1f(this.uIntensity,.5*this.sharpenIntensity)},t.prototype.resetResolution=function(n,t){this.width=n||this.width,this.height=t||this.height,this.setConstUniforms()},t.prototype.setConstUniforms=function(){var n=this.width,t=this.height,r=this.program;if(r){var i=this.gl;i.useProgram(r);var e=i.getUniformLocation(r,"imageWidthFactor");i.uniform1f(e,1/n);var h=i.getUniformLocation(r,"imageHeightFactor");i.uniform1f(h,1/t),this.uIntensity=i.getUniformLocation(r,"sharpness"),i.uniform1f(this.uIntensity,.5*this.sharpenIntensity)}},t}(f),Q=function(n,t,r,i){return new(r||(r=Promise))((function(e,h){function s(n){try{o(i.next(n))}catch(n){h(n)}}function g(n){try{o(i.throw(n))}catch(n){h(n)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(s,g)}o((i=i.apply(n,t||[])).next())}))},G=function(n,t){var r,i,e,h,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function g(g){return function(o){return function(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(s=0)),s;)try{if(r=1,i&&(e=2&g[0]?i.return:g[0]?i.throw||((e=i.return)&&e.call(i),0):i.next)&&!(e=e.call(i,g[1])).done)return e;switch(i=0,e&&(g=[2&g[0],e.value]),g[0]){case 0:case 1:e=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,i=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(!(e=s.trys,(e=e.length>0&&e[e.length-1])||6!==g[0]&&2!==g[0])){s=0;continue}if(3===g[0]&&(!e||g[1]>e[0]&&g[1]<e[3])){s.label=g[1];break}if(6===g[0]&&s.label<e[1]){s.label=e[1],e=g;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(g);break}e[2]&&s.ops.pop(),s.trys.pop();continue}g=t.call(n,s)}catch(n){g=[6,n],i=0}finally{r=e=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,o])}}},d="zc.p.0.sbe.2",F={errorCode:n.xVS.code,extendedData:n.xVS.message},q=function(){function n(n,t){this.t=n,this.vcMgr=t,this.gl=null,this.shouldClear=!0,this.effectConfig={sharpenIntensity:.5,whitenIntensity:.5,rosyIntensity:.5,smoothIntensity:.5,lowlightEnhancement:0},this._originResolution={width:0,height:0},this._shaderList=[],this._frameBufferList=[],this.i=[],this.h=null,this.isNoInput=!0,this.failedTimes=0,this.onRenderError=function(n){},this.enableBeauty=!1}return n.prototype.setEnableBeauty=function(n){this.enableBeauty=!!n},n.prototype.handleInitError=function(){this.failedTimes++,this.failedTimes>30&&(this.failedTimes=0,this.t.error(d+" get webgl context failed"),this.onRenderError(F))},n.prototype.init=function(n,t){return Q(this,void 0,void 0,(function(){var r,i,e,h,s,g,o,u,c;return G(this,(function(a){switch(a.label){case 0:return this.vcMgr?(e=(r=this.vcMgr).gl,h=r.originWidth,s=r.originHeight,(i=r.canvasEl)&&e&&h&&s?(this._canvasEl=i,this.gl=e,this.initGL(n=n||h,t=t||s),this.h?[4,(g=new w(this.gl,n,t)).setConstUniforms()]:(this.t.error(d+" input texture not found"),this.handleInitError(),[2])):(this.handleInitError(),[2])):(this.handleInitError(),[2]);case 1:return a.sent(),(o=new l(this.gl,n,t)).setConstUniforms(),(u=new y(this.gl,n,t)).setConstUniforms(),(c=new p(this.gl,n,t)).setConstUniforms(),this._shaderList=[g,o,u,c],this.setEffectConfig(this.effectConfig),[2]}}))}))},n.prototype.render=function(n){return Q(this,void 0,void 0,(function(){var t,r,i,e,h=this;return G(this,(function(s){switch(s.label){case 0:return(t=this.gl)&&this._canvasEl&&!t.isContextLost()?[3,4]:this._canvasEl?(this.t.warn(d+" gl lost, restart effect"),this.release(),[4,this.init(n.videoWidth,n.videoHeight)]):[3,2];case 1:return s.sent(),[3,3];case 2:this.t.error(d+" canvas lost"),this.onRenderError(F),s.label=3;case 3:return[2];case 4:return(this._originResolution.height!==n.videoHeight||this._originResolution.width!==n.videoWidth)&&(Math.abs(this._originResolution.height-n.videoHeight)>2||Math.abs(this._originResolution.width-n.videoWidth)>2)?0===n.videoHeight||0===n.videoWidth?[2]:(this._canvasEl.width=n.videoWidth,this._canvasEl.height=n.videoHeight,n.setAttribute("width",n.videoWidth.toString()),n.setAttribute("height",n.videoHeight.toString()),!this.gl||this.gl.isContextLost()?[3,5]:(this.t.info(d+" resolution changed to ".concat(n.videoWidth,"x").concat(n.videoHeight,", reset resolution.")),this.resetResolution(n.videoWidth,n.videoHeight),this._shaderList.forEach((function(t){t.resetResolution(n.videoWidth,n.videoHeight)})),[3,7])):[3,7];case 5:return this.t.warn(d+" resolution changed and gl context lost, restart effect"),this.release(),[4,this.init(n.videoWidth,n.videoHeight)];case 6:s.sent(),s.label=7;case 7:return r=[-1,-1,0,1,-1,0,1,1,0,-1,1,0],i=[0,1,2,0,2,3],e=[0,0,1,0,1,1,0,1],t.viewport(0,0,n.width,n.height),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.h),this.isNoInput&&t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),this._shaderList.forEach((function(n,s){var g=n.program;if(g){n.renderPreTextures&&n.renderPreTextures(r,i,e),t.useProgram(g),n.render();var o=t.getUniformLocation(g,"uTexture"),u=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,u),t.bufferData(t.ARRAY_BUFFER,new Float32Array(r),t.STATIC_DRAW);var c=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,c),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),t.STATIC_DRAW);var a=t.getAttribLocation(g,"aPosition");t.enableVertexAttribArray(a),t.vertexAttribPointer(a,3,t.FLOAT,!1,0,0);var f=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,new Float32Array(e),t.STATIC_DRAW);var v=t.getAttribLocation(g,"aTexCoordinate");t.enableVertexAttribArray(v),t.vertexAttribPointer(v,2,t.FLOAT,!1,0,0);var A=s===h._shaderList.length-1?null:h.i[s];t.bindFramebuffer(t.FRAMEBUFFER,s===h._shaderList.length-1?null:h._frameBufferList[s]),h.shouldClear&&(t.clearColor(0,0,0,1),t.clear(t.COLOR_BUFFER_BIT)),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),t.activeTexture(t.TEXTURE0),A&&t.bindTexture(t.TEXTURE_2D,A),t.uniform1i(o,0)}})),[2]}}))}))},n.prototype.setEffectConfig=function(n){var t=this;isNaN(n.sharpenIntensity)||(this.effectConfig.sharpenIntensity=n.sharpenIntensity),isNaN(n.whitenIntensity)||(this.effectConfig.whitenIntensity=n.whitenIntensity),isNaN(n.rosyIntensity)||(this.effectConfig.rosyIntensity=n.rosyIntensity),isNaN(n.smoothIntensity)||(this.effectConfig.smoothIntensity=n.smoothIntensity),isNaN(n.lowlightEnhancement)||(this.effectConfig.lowlightEnhancement=n.lowlightEnhancement),this._shaderList.forEach((function(n){n.setEffectConfig(t.effectConfig)}))},n.prototype.release=function(){var n=this;this._shaderList.forEach((function(t){var r;t.program&&(null===(r=n.gl)||void 0===r||r.deleteProgram(t.program))})),this.i.forEach((function(t){var r;t&&(null===(r=n.gl)||void 0===r||r.deleteTexture(t))})),this._frameBufferList.forEach((function(t){var r;t&&(null===(r=n.gl)||void 0===r||r.deleteFramebuffer(t))})),this._shaderList.forEach((function(n){n.release()})),this._shaderList=[],this.i=[],this._frameBufferList=[]},n.prototype.initGL=function(n,t){var r=this.gl;if(!r)return this.t.error(d+" webgl context not found");this.isNoInput&&(this.h=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.h),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR));for(var i=0;4>i;i++){var e=r.createTexture();if(!e)return this.t.warn(d+" create texture failed");r.bindTexture(r.TEXTURE_2D,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n,t,0,r.RGBA,r.UNSIGNED_BYTE,null);var h=r.createFramebuffer();if(!h)return this.t.warn(d+" create frame buffer failed");r.bindFramebuffer(r.FRAMEBUFFER,h),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0),this.i.push(e),this._frameBufferList.push(h)}r.viewport(0,0,n,t),this._originResolution.width=n,this._originResolution.height=t},n.prototype.setInputInfo=function(n,t){if(this.isNoInput=n,t){var r=t.texture;r&&(this.h=r)}},n.prototype.resetResolution=function(n,t){var r,i=this.gl;if(!i)return this.t.warn(d+" can not find webgl context");for(var e=0;e<this.i.length;e++){i.bindTexture(i.TEXTURE_2D,this.i[e]),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n,t,0,i.RGBA,i.UNSIGNED_BYTE,null)}null===(r=this.vcMgr)||void 0===r||r.resetResolution(n,t),this.onResolutionChange(),i.viewport(0,0,n,t),this._originResolution.width=n,this._originResolution.height=t},n.prototype.onResolutionChange=function(){},n}(),P=r(8814),D=function(){var n=function(t,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])},n(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}n(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),z=function(n,t,r,i){return new(r||(r=Promise))((function(e,h){function s(n){try{o(i.next(n))}catch(n){h(n)}}function g(n){try{o(i.throw(n))}catch(n){h(n)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(s,g)}o((i=i.apply(n,t||[])).next())}))},K=function(n,t){var r,i,e,h,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function g(g){return function(o){return function(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(s=0)),s;)try{if(r=1,i&&(e=2&g[0]?i.return:g[0]?i.throw||((e=i.return)&&e.call(i),0):i.next)&&!(e=e.call(i,g[1])).done)return e;switch(i=0,e&&(g=[2&g[0],e.value]),g[0]){case 0:case 1:e=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,i=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(!(e=s.trys,(e=e.length>0&&e[e.length-1])||6!==g[0]&&2!==g[0])){s=0;continue}if(3===g[0]&&(!e||g[1]>e[0]&&g[1]<e[3])){s.label=g[1];break}if(6===g[0]&&s.label<e[1]){s.label=e[1],e=g;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(g);break}e[2]&&s.ops.pop(),s.trys.pop();continue}g=t.call(n,s)}catch(n){g=[6,n],i=0}finally{r=e=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,o])}}},U={errorCode:n.pe5.code,extendedData:n.pe5.message},S="zc.p.0.sbe.1",M=function(n){function t(t,r,i,e){var h=n.call(this)||this;return h.t=t,h.preview=i,h.g=e,h.kind="video",h._enabled=!1,h.effectTrack=null,h.lastRenderTime=0,h.renderCount=0,h.u=0,h.stateFlag={base:!1,lowLight:!1},h.isStarting=!1,h.animationFrameId=0,h.fps=15,h.detector=new u(t),h.lastRenderTime=0,h.manager=new q(t,h.vcMgr),h.manager.onRenderError=function(n){1103072===n.errorCode&&h.stopEffect(),h.onError(n)},h.manager.onResolutionChange=function(){},h.setVcMgrInfo(),h}return D(t,n),Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(n){this._enabled=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"output",{get:function(){return{track:this._output||this.input||null}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vcMgr",{get:function(){return this.preview.vcMgr},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.g.browser},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.manager.effectConfig||{}},enumerable:!1,configurable:!0}),t.prototype.setBeautyEffectOptions=function(n,t){return void 0===t&&(t={}),z(this,void 0,void 0,(function(){return K(this,(function(r){switch(r.label){case 0:return n&&this.manager.setEffectConfig(t),this.enabled===n?[3,5]:(this.manager.setEnableBeauty(n),this.enabled!==n&&this.t.info(S+" effect enabled "+n+"; options: "+JSON.stringify(t)),this.enabled=n,n?[4,this.startEffect()]:[3,2]);case 1:return r.sent(),[3,4];case 2:return[4,this.stopEffect()];case 3:r.sent(),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))},t.prototype.startEffect=function(n){return void 0===n&&(n=!0),z(this,void 0,void 0,(function(){var t,r=this;return K(this,(function(i){switch(i.label){case 0:return this.isStarting=!0,this.t.info(S+" call start effect"),this.input?(t=this,[4,this.startWebGLProcessor().catch((function(n){throw r.stopEffect(),n}))]):(this.t.error(S+" start effect failed, input track is null"),[2]);case 1:return t.effectTrack=i.sent(),this.startEffectTask(n),this.t.info(S+" start effect success"),[2]}}))}))},t.prototype.startEffectTask=function(n){var t,r=this;void 0===n&&(n=!0),this.enabled=!0,this.detector.startRecordBeautyEffectOutput(this.fps).then((function(n){!n.result&&r.onError&&r.onError(U,{targetFPS:n.targetFPS,currentFPS:n.currentFPS})})),n&&(null===(t=this.vcMgr)||void 0===t||t.setRenderTask(!0,"beauty")),this.isStarting=!1},t.prototype.stopEffect=function(n){var t,r;return void 0===n&&(n=!0),z(this,void 0,void 0,(function(){var i=this;return K(this,(function(e){return this.enabled=!1,this.t.info(S+" call stop effect"),n&&(null===(t=this.vcMgr)||void 0===t||t.setRenderTask(!1,"beauty")),null===(r=this.vcMgr)||void 0===r||r.off("renderFrame"),this.detector.stopRecordBeautyEffectOutput(),this.manager.release(),this.renderCount=0,void 0===this.removeDomTimer&&(this.removeDomTimer=window.setTimeout((function(){!1===i.enabled&&i.destroy()}),18e4)),[2]}))}))},t.prototype.destroy=function(){this.t.info(S+" destroy hidden elements"),this.canvasEl&&this.canvasEl.remove(),this.videoEl&&this.videoEl.remove(),this.videoEl=this.canvasEl=void 0,this.removeDomTimer&&(clearTimeout(this.removeDomTimer),this.removeDomTimer=void 0)},t.prototype.startWebGLProcessor=function(){var n;return z(this,void 0,void 0,(function(){return K(this,(function(t){switch(t.label){case 0:return this.t.info(S+" start webgl processor"),this.removeDomTimer&&(clearTimeout(this.removeDomTimer),this.removeDomTimer=void 0),[4,this.videoRendering()];case 1:return t.sent(),this.setVcMgrInfo(),[2,null===(n=this.vcMgr)||void 0===n?void 0:n.getCanvasTrack()]}}))}))},t.prototype.setInput=function(n,t){var r,i,e,h,s,g;return z(this,void 0,void 0,(function(){var t,o,u=this;return K(this,(function(c){return this.t.info(S+" input call"),t=!1,(null==n?void 0:n.track)&&(o=!1,this.trackWidth===(null===(r=this.vcMgr)||void 0===r?void 0:r.originWidth)&&this.trackHeight===(null===(i=this.vcMgr)||void 0===i?void 0:i.originHeight)||(o=!0,this.t.info(S+" input track wh change")),!o&&this.input===(null==n?void 0:n.track)||"safari"!==this.v||(this.t.info(S+" input track change"),this.effectTrack=null,this.stopEffect(!1),t=!0),this.input=null==n?void 0:n.track,this.trackWidth=null===(e=this.vcMgr)||void 0===e?void 0:e.originWidth,this.trackHeight=null===(h=this.vcMgr)||void 0===h?void 0:h.originHeight),n&&(this.manager.setInputInfo(this.isFirstNode,n.frameInfo),null===(s=this.vcMgr)||void 0===s||s.off("renderFrame"),null===(g=this.vcMgr)||void 0===g||g.on("renderFrame",(function(){u.renderOutput()})),t&&this.startEffect()),1==this.u&&(this.setVcMgrInfo(),this.u=0,this.startEffect()),[2]}))}))},t.prototype.renderOutput=function(){this.renderCount++,this.manager.render(this.videoEl),this.detector.addFrame(),this.renderCount>=3&&this.updateOutput(this.effectTrack)},t.prototype.setVcMgrInfo=function(){var n;if(this.vcMgr&&(null===(n=this.vcMgr)||void 0===n?void 0:n.inited)){var t=this.vcMgr,r=t.canvasEl,i=t.videoEl,e=t.originWidth,h=t.originHeight;i&&(this.videoEl=i),r&&(this.canvasEl=r,this.manager.setInputInfo(this.isFirstNode),this.manager.init(e,h))}},t.prototype.videoRendering=function(){return z(this,void 0,void 0,(function(){var n=this;return K(this,(function(t){return[2,new Promise((function(t,r){var i;n.vcMgr&&!(null===(i=n.vcMgr)||void 0===i?void 0:i.inited)?(n.vcMgr.onInited=function(){t()},n.vcMgr.onRenderFail=function(t){n.u=1,r(t)}):t()}))]}))}))},t.prototype.removeInput=function(){return z(this,void 0,void 0,(function(){return K(this,(function(n){switch(n.label){case 0:return this.input=void 0,[4,this.stopEffect()];case 1:return n.sent(),[2]}}))}))},t.prototype.updateOutput=function(n){return z(this,void 0,void 0,(function(){return K(this,(function(t){switch(t.label){case 0:return this._output===n?[3,3]:(this._output=n,this.onOutputChange?[4,this.onOutputChange(this._output)]:[3,2]);case 1:t.sent(),t.label=2;case 2:t.label=3;case 3:return[2]}}))}))},t.prototype.onOutputChange=function(n){var t;return z(this,void 0,void 0,(function(){return K(this,(function(r){switch(r.label){case 0:return[4,null===(t=this.next)||void 0===t?void 0:t.setInput({track:n||this.input||null})];case 1:return r.sent(),[2]}}))}))},t.prototype.onError=function(n,t){},t}(P.a),x=M,R=function(){return R=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var e in t=arguments[r])Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e]);return n},R.apply(this,arguments)},Y=function(n,t,r,i){return new(r||(r=Promise))((function(e,h){function s(n){try{o(i.next(n))}catch(n){h(n)}}function g(n){try{o(i.throw(n))}catch(n){h(n)}}function o(n){var t;n.done?e(n.value):(t=n.value,t instanceof r?t:new r((function(n){n(t)}))).then(s,g)}o((i=i.apply(n,t||[])).next())}))},J=function(n,t){var r,i,e,h,s={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return h={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h;function g(g){return function(o){return function(g){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(s=0)),s;)try{if(r=1,i&&(e=2&g[0]?i.return:g[0]?i.throw||((e=i.return)&&e.call(i),0):i.next)&&!(e=e.call(i,g[1])).done)return e;switch(i=0,e&&(g=[2&g[0],e.value]),g[0]){case 0:case 1:e=g;break;case 4:return s.label++,{value:g[1],done:!1};case 5:s.label++,i=g[1],g=[0];continue;case 7:g=s.ops.pop(),s.trys.pop();continue;default:if(!(e=s.trys,(e=e.length>0&&e[e.length-1])||6!==g[0]&&2!==g[0])){s=0;continue}if(3===g[0]&&(!e||g[1]>e[0]&&g[1]<e[3])){s.label=g[1];break}if(6===g[0]&&s.label<e[1]){s.label=e[1],e=g;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(g);break}e[2]&&s.ops.pop(),s.trys.pop();continue}g=t.call(n,s)}catch(n){g=[6,n],i=0}finally{r=e=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,o])}}},O="zc.p.0.sbe.0",j={setBeautyEffect:function(r,i,s,g){var o=this;return void 0===g&&(g=!0),new t.GJ((function(t,u){var c,a,f=(0,h.Z)(r,o.logger);if(!(0,e.gE)(f))return o.logger.error(O+" localStream not found"),void u({errorCode:1100001,extendedData:" localStream no found"});var v=function(n){t(n)},A=o.streamCenter.checkPreview(f);if(!A)return o.logger.error("zc.sbe.0 preview no found"),void v({errorCode:n.vJ6.code,extendedData:n.vJ6.message});var b=(null===(c=A.videoEffect)||void 0===c?void 0:c.stateFlag)||{base:!1,lowLight:!1};if(g)!(i=!!i)&&b.lowLight?s={sharpenIntensity:0,whitenIntensity:0,rosyIntensity:0,smoothIntensity:0,lowlightEnhancement:b.lowLight?1:0}:i&&(s=R({lowlightEnhancement:b.lowLight?1:0},s)),b.base=i;else{var l=s.lowlightEnhancement;s=(null===(a=A.videoEffect)||void 0===a?void 0:a.enabled)||1!==l?{lowlightEnhancement:l}:{sharpenIntensity:0,whitenIntensity:0,rosyIntensity:0,smoothIntensity:0,lowlightEnhancement:l},b.lowLight=1===l}A.setBeautyEffect(b.base||b.lowLight,s,b).then((function(){v({errorCode:0,extendedData:""})})).catch((function(n){u({errorCode:n.errorCode||n.code||-1,extendedData:n.extendedData||n.message||n.toString()})}))}))},setLowlightEnhance:function(n,t){return this.setBeautyEffect(n,!0,{lowlightEnhancement:t},!1)}},H={setBeautyEffect:function(t,r,i){var h;return Y(this,void 0,void 0,(function(){var s,g,o,u=this;return J(this,(function(c){switch(c.label){case 0:if(!this.videoTrack)return this.logger.error(O+" video track no found"),[2];if(!!(0,e.Qo)(WebGLRenderingContext))throw{errorCode:s=n.xVS.code,extendedData:g=n.xVS.message};return o=function(){var n;try{null===(n=u.vcMgr)||void 0===n||n.init(u.videoTrack)}catch(n){if(1001==n.code)throw{errorCode:s,extendedData:g}}},x?(this.videoEffect||(o(),this.videoEffect=new x(this.logger,this.videoTrack,this,this.stateCenter),this.videoEffect.onError=function(n,t){u.stateCenter.actionListener("beautyEffectError",u.localStream,n.errorCode,n.extendedData,t)}),t?this.videoNodeQueue.isConnected(this.videoEffect)?[3,4]:this.videoTrack&&(null===(h=this.vcMgr)||void 0===h?void 0:h.renderTrack)!==this.videoTrack?[4,this.videoNodeQueue.replaceNewSourceByTrack(this.videoTrack)]:[3,2]:[3,5]):[3,9];case 1:c.sent(),c.label=2;case 2:return[4,this.videoNodeQueue.pushBack(this.videoEffect)];case 3:c.sent(),c.label=4;case 4:return[3,7];case 5:return[4,this.videoNodeQueue.remove(this.videoEffect)];case 6:c.sent(),c.label=7;case 7:return[4,this.videoEffect.setBeautyEffectOptions(t,r)];case 8:return c.sent(),this.videoEffect.stateFlag=i,[3,10];case 9:this.logger.error(O+" beauty effect module no found"),c.label=10;case 10:return[2]}}))}))}},m={type:"BeautyEffect",install:function(n,t){for(var r in H)Object.defineProperty(t.prototype,r,{value:H[r],writable:!1});for(var r in j)Object.defineProperty(n.prototype,r,{value:j[r],writable:!1})}}}(),i}()}));