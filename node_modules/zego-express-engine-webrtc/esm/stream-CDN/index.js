!function(t,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var n=r();for(var e in n)("object"==typeof exports?exports:t)[e]=n[e]}}("undefined"!=typeof self?self:this,(function(){return function(){var __webpack_modules__={4537:function(t){"use strict";t.exports=function(t,r){var n=new Array(arguments.length-1),e=0,i=2,s=!0;for(;i<arguments.length;)n[e++]=arguments[i++];return new Promise((function(i,u){n[e]=function(t){if(s)if(s=!1,t)u(t);else{for(var r=new Array(arguments.length-1),n=0;n<r.length;)r[n++]=arguments[n];i.apply(null,r)}};try{t.apply(r||null,n)}catch(t){s&&(s=!1,u(t))}}))}},7419:function(t,r){"use strict";var n=r;n.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;--r%4>1&&"="===t.charAt(r);)++n;return Math.ceil(3*t.length)/4-n};for(var e=new Array(64),i=new Array(123),s=0;s<64;)i[e[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;n.encode=function(t,r,n){for(var i,s=null,u=[],o=0,c=0;r<n;){var h=t[r++];switch(c){case 0:u[o++]=e[h>>2],i=(3&h)<<4,c=1;break;case 1:u[o++]=e[i|h>>4],i=(15&h)<<2,c=2;break;case 2:u[o++]=e[i|h>>6],u[o++]=e[63&h],c=0}o>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,u)),o=0)}return c&&(u[o++]=e[i],u[o++]=61,1===c&&(u[o++]=61)),s?(o&&s.push(String.fromCharCode.apply(String,u.slice(0,o))),s.join("")):String.fromCharCode.apply(String,u.slice(0,o))};var u="invalid encoding";n.decode=function(t,r,n){for(var e,s=n,o=0,c=0;c<t.length;){var h=t.charCodeAt(c++);if(61===h&&o>1)break;if(void 0===(h=i[h]))throw Error(u);switch(o){case 0:e=h,o=1;break;case 1:r[n++]=e<<2|(48&h)>>4,e=h,o=2;break;case 2:r[n++]=(15&e)<<4|(60&h)>>2,e=h,o=3;break;case 3:r[n++]=(3&e)<<6|h,o=0}}if(1===o)throw Error(u);return n-s},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},9211:function(t){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,r,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:r,ctx:n||this}),this},r.prototype.off=function(t,r){if(void 0===t)this._listeners={};else if(void 0===r)this._listeners[t]=[];else for(var n=this._listeners[t],e=0;e<n.length;)n[e].fn===r?n.splice(e,1):++e;return this},r.prototype.emit=function(t){var r=this._listeners[t];if(r){for(var n=[],e=1;e<arguments.length;)n.push(arguments[e++]);for(e=0;e<r.length;)r[e].fn.apply(r[e++].ctx,n)}return this}},945:function(t){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){var r=new Float32Array([-0]),n=new Uint8Array(r.buffer),e=128===n[3];function i(t,e,i){r[0]=t,e[i]=n[0],e[i+1]=n[1],e[i+2]=n[2],e[i+3]=n[3]}function s(t,e,i){r[0]=t,e[i]=n[3],e[i+1]=n[2],e[i+2]=n[1],e[i+3]=n[0]}function u(t,e){return n[0]=t[e],n[1]=t[e+1],n[2]=t[e+2],n[3]=t[e+3],r[0]}function o(t,e){return n[3]=t[e],n[2]=t[e+1],n[1]=t[e+2],n[0]=t[e+3],r[0]}t.writeFloatLE=e?i:s,t.writeFloatBE=e?s:i,t.readFloatLE=e?u:o,t.readFloatBE=e?o:u}():function(){function r(t,r,n,e){var i=r<0?1:0;if(i&&(r=-r),0===r)t(1/r>0?0:2147483648,n,e);else if(isNaN(r))t(2143289344,n,e);else if(r>34028234663852886e22)t((i<<31|2139095040)>>>0,n,e);else if(r<11754943508222875e-54)t((i<<31|Math.round(r/1401298464324817e-60))>>>0,n,e);else{var s=Math.floor(Math.log(r)/Math.LN2);t((i<<31|s+127<<23|8388607&Math.round(r*Math.pow(2,-s)*8388608))>>>0,n,e)}}function u(t,r,n){var e=t(r,n),i=2*(e>>31)+1,s=e>>>23&255,u=8388607&e;return 255===s?u?NaN:i*(1/0):0===s?1401298464324817e-60*i*u:i*Math.pow(2,s-150)*(u+8388608)}t.writeFloatLE=r.bind(null,n),t.writeFloatBE=r.bind(null,e),t.readFloatLE=u.bind(null,i),t.readFloatBE=u.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var r=new Float64Array([-0]),n=new Uint8Array(r.buffer),e=128===n[7];function i(t,e,i){r[0]=t,e[i]=n[0],e[i+1]=n[1],e[i+2]=n[2],e[i+3]=n[3],e[i+4]=n[4],e[i+5]=n[5],e[i+6]=n[6],e[i+7]=n[7]}function s(t,e,i){r[0]=t,e[i]=n[7],e[i+1]=n[6],e[i+2]=n[5],e[i+3]=n[4],e[i+4]=n[3],e[i+5]=n[2],e[i+6]=n[1],e[i+7]=n[0]}function u(t,e){return n[0]=t[e],n[1]=t[e+1],n[2]=t[e+2],n[3]=t[e+3],n[4]=t[e+4],n[5]=t[e+5],n[6]=t[e+6],n[7]=t[e+7],r[0]}function o(t,e){return n[7]=t[e],n[6]=t[e+1],n[5]=t[e+2],n[4]=t[e+3],n[3]=t[e+4],n[2]=t[e+5],n[1]=t[e+6],n[0]=t[e+7],r[0]}t.writeDoubleLE=e?i:s,t.writeDoubleBE=e?s:i,t.readDoubleLE=e?u:o,t.readDoubleBE=e?o:u}():function(){function r(t,r,n,e,i,s){var u=e<0?1:0;if(u&&(e=-e),0===e)t(0,i,s+r),t(1/e>0?0:2147483648,i,s+n);else if(isNaN(e))t(0,i,s+r),t(2146959360,i,s+n);else if(e>17976931348623157e292)t(0,i,s+r),t((u<<31|2146435072)>>>0,i,s+n);else{var o;if(e<22250738585072014e-324)t((o=e/5e-324)>>>0,i,s+r),t((u<<31|o/4294967296)>>>0,i,s+n);else{var c=Math.floor(Math.log(e)/Math.LN2);1024===c&&(c=1023),t(4503599627370496*(o=e*Math.pow(2,-c))>>>0,i,s+r),t((u<<31|c+1023<<20|1048576*o&1048575)>>>0,i,s+n)}}}function u(t,r,n,e,i){var s=t(e,i+r),u=t(e,i+n),o=2*(u>>31)+1,c=u>>>20&2047,h=4294967296*(1048575&u)+s;return 2047===c?h?NaN:o*(1/0):0===c?5e-324*o*h:o*Math.pow(2,c-1075)*(h+4503599627370496)}t.writeDoubleLE=r.bind(null,n,0,4),t.writeDoubleBE=r.bind(null,e,4,0),t.readDoubleLE=u.bind(null,i,0,4),t.readDoubleBE=u.bind(null,s,4,0)}(),t}function n(t,r,n){r[n]=255&t,r[n+1]=t>>>8&255,r[n+2]=t>>>16&255,r[n+3]=t>>>24}function e(t,r,n){r[n]=t>>>24,r[n+1]=t>>>16&255,r[n+2]=t>>>8&255,r[n+3]=255&t}function i(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24)>>>0}function s(t,r){return(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3])>>>0}t.exports=r(r)},7199:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},6662:function(t){"use strict";t.exports=function(t,r,n){var e=n||8192,i=e>>>1,s=null,u=e;return function(n){if(n<1||n>i)return t(n);u+n>e&&(s=t(e),u=0);var o=r.call(s,u,u+=n);return 7&u&&(u=1+(7|u)),o}}},4997:function(t,r){"use strict";var n=r;n.length=function(t){for(var r=0,n=0,e=0;e<t.length;++e)(n=t.charCodeAt(e))<128?r+=1:n<2048?r+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(e+1))?(++e,r+=4):r+=3;return r},n.read=function(t,r,n){if(n-r<1)return"";for(var e,i=null,s=[],u=0;r<n;)(e=t[r++])<128?s[u++]=e:e>191&&e<224?s[u++]=(31&e)<<6|63&t[r++]:e>239&&e<365?(e=((7&e)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536,s[u++]=55296+(e>>10),s[u++]=56320+(1023&e)):s[u++]=(15&e)<<12|(63&t[r++])<<6|63&t[r++],u>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),u=0);return i?(u&&i.push(String.fromCharCode.apply(String,s.slice(0,u))),i.join("")):String.fromCharCode.apply(String,s.slice(0,u))},n.write=function(t,r,n){for(var e,i,s=n,u=0;u<t.length;++u)(e=t.charCodeAt(u))<128?r[n++]=e:e<2048?(r[n++]=e>>6|192,r[n++]=63&e|128):55296==(64512&e)&&56320==(64512&(i=t.charCodeAt(u+1)))?(++u,r[n++]=(e=65536+((1023&e)<<10)+(1023&i))>>18|240,r[n++]=e>>12&63|128,r[n++]=e>>6&63|128,r[n++]=63&e|128):(r[n++]=e>>12|224,r[n++]=e>>6&63|128,r[n++]=63&e|128);return n-s}},3720:function(t){t.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function n(t,r,n){this.low=0|t,this.high=0|r,this.unsigned=!!n}function e(t){return!0===(t&&t.__isLong__)}Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=e;var i={},s={};function u(t,r){var n,e,u;return r?(u=0<=(t>>>=0)&&t<256)&&(e=s[t])?e:(n=c(t,(0|t)<0?-1:0,!0),u&&(s[t]=n),n):(u=-128<=(t|=0)&&t<128)&&(e=i[t])?e:(n=c(t,t<0?-1:0,!1),u&&(i[t]=n),n)}function o(t,r){if(isNaN(t))return r?p:m;if(r){if(t<0)return p;if(t>=d)return y}else{if(t<=-_)return z;if(t+1>=_)return k}return t<0?o(-t,r).neg():c(t%l|0,t/l|0,r)}function c(t,r,e){return new n(t,r,e)}n.fromInt=u,n.fromNumber=o,n.fromBits=c;var h=Math.pow;function f(t,r,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return m;if("number"==typeof r?(n=r,r=!1):r=!!r,(n=n||10)<2||36<n)throw RangeError("radix");var e;if((e=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===e)return f(t.substring(1),r,n).neg();for(var i=o(h(n,8)),s=m,u=0;u<t.length;u+=8){var c=Math.min(8,t.length-u),a=parseInt(t.substring(u,u+c),n);if(c<8){var l=o(h(n,c));s=s.mul(l).add(o(a))}else s=(s=s.mul(i)).add(o(a))}return s.unsigned=r,s}function a(t,r){return"number"==typeof t?o(t,r):"string"==typeof t?f(t,r):c(t.low,t.high,"boolean"==typeof r?r:t.unsigned)}n.fromString=f,n.fromValue=a;var l=4294967296,d=l*l,_=d/2,v=u(1<<24),m=u(0);n.ZERO=m;var p=u(0,!0);n.UZERO=p;var g=u(1);n.ONE=g;var b=u(1,!0);n.UONE=b;var w=u(-1);n.NEG_ONE=w;var k=c(-1,2147483647,!1);n.MAX_VALUE=k;var y=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=y;var z=c(0,-2147483648,!1);n.MIN_VALUE=z;var E=n.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*l+(this.low>>>0):this.high*l+(this.low>>>0)},E.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(z)){var r=o(t),n=this.div(r),e=n.mul(r).sub(this);return n.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=o(h(t,6),this.unsigned),s=this,u="";;){var c=s.div(i),f=(s.sub(c.mul(i)).toInt()>>>0).toString(t);if((s=c).isZero())return f+u;for(;f.length<6;)f="0"+f;u=""+f+u}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(z)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,r=31;r>0&&0==(t&1<<r);r--);return 0!=this.high?r+33:r+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(t){return e(t)||(t=a(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&(this.high===t.high&&this.low===t.low)},E.eq=E.equals,E.notEquals=function(t){return!this.eq(t)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(t){return this.comp(t)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(t){return this.comp(t)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(t){return this.comp(t)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(t){return this.comp(t)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(t){if(e(t)||(t=a(t)),this.eq(t))return 0;var r=this.isNegative(),n=t.isNegative();return r&&!n?-1:!r&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(z)?z:this.not().add(g)},E.neg=E.negate,E.add=function(t){e(t)||(t=a(t));var r=0,n=0,i=0,s=0;return i+=(s+=(65535&this.low)+(65535&t.low))>>>16,n+=(i+=(this.low>>>16)+(t.low>>>16))>>>16,r+=(n+=(65535&this.high)+(65535&t.high))>>>16,r+=(this.high>>>16)+(t.high>>>16),c((i&=65535)<<16|(s&=65535),(r&=65535)<<16|(n&=65535),this.unsigned)},E.subtract=function(t){return e(t)||(t=a(t)),this.add(t.neg())},E.sub=E.subtract,E.multiply=function(t){if(this.isZero())return m;if(e(t)||(t=a(t)),r)return c(r.mul(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned);if(t.isZero())return m;if(this.eq(z))return t.isOdd()?z:m;if(t.eq(z))return this.isOdd()?z:m;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(v)&&t.lt(v))return o(this.toNumber()*t.toNumber(),this.unsigned);var n=65535&this.high,i=this.low>>>16,s=65535&this.low,u=65535&t.high,h=t.low>>>16,f=65535&t.low,l=0,d=0,_=0,p=0;return _+=(p+=s*f)>>>16,d+=(_+=i*f)>>>16,_&=65535,d+=(_+=s*h)>>>16,l+=(d+=n*f)>>>16,d&=65535,l+=(d+=i*h)>>>16,d&=65535,l+=(d+=s*u)>>>16,l+=(this.high>>>16)*f+n*h+i*u+s*(t.high>>>16),c((_&=65535)<<16|(p&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(t){if(e(t)||(t=a(t)),t.isZero())throw Error("division by zero");var n,i,s;if(r)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?c((this.unsigned?r.div_u:r.div_s)(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?p:m;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return p;if(t.gt(this.shru(1)))return b;s=p}else{if(this.eq(z))return t.eq(g)||t.eq(w)?z:t.eq(z)?g:(n=this.shr(1).div(t).shl(1)).eq(m)?t.isNegative()?g:w:(i=this.sub(t.mul(n)),s=n.add(i.div(t)));if(t.eq(z))return this.unsigned?p:m;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();s=m}for(i=this;i.gte(t);){n=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var u=Math.ceil(Math.log(n)/Math.LN2),f=u<=48?1:h(2,u-48),l=o(n),d=l.mul(t);d.isNegative()||d.gt(i);)d=(l=o(n-=f,this.unsigned)).mul(t);l.isZero()&&(l=g),s=s.add(l),i=i.sub(d)}return s},E.div=E.divide,E.modulo=function(t){return e(t)||(t=a(t)),r?c((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,t.low,t.high),r.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return c(~this.low,~this.high,this.unsigned)},E.and=function(t){return e(t)||(t=a(t)),c(this.low&t.low,this.high&t.high,this.unsigned)},E.or=function(t){return e(t)||(t=a(t)),c(this.low|t.low,this.high|t.high,this.unsigned)},E.xor=function(t){return e(t)||(t=a(t)),c(this.low^t.low,this.high^t.high,this.unsigned)},E.shiftLeft=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):c(0,this.low<<t-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(t){return e(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?c(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):c(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(t){if(e(t)&&(t=t.toInt()),0===(t&=63))return this;var r=this.high;return t<32?c(this.low>>>t|r<<32-t,r>>>t,this.unsigned):c(32===t?r:r>>>t-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},E.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var t=this.high,r=this.low;return[255&r,r>>>8&255,r>>>16&255,r>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},E.toBytesBE=function(){var t=this.high,r=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,r>>>24,r>>>16&255,r>>>8&255,255&r]},n.fromBytes=function(t,r,e){return e?n.fromBytesLE(t,r):n.fromBytesBE(t,r)},n.fromBytesLE=function(t,r){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,r)},n.fromBytesBE=function(t,r){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],r)}},2100:function(t,r,n){"use strict";t.exports=n(9482)},9482:function(t,r,n){"use strict";var e=r;function i(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}e.build="minimal",e.Writer=n(1173),e.BufferWriter=n(3155),e.Reader=n(1408),e.BufferReader=n(593),e.util=n(9693),e.rpc=n(5994),e.roots=n(5054),e.configure=i,i()},1408:function(t,r,n){"use strict";t.exports=c;var e,i=n(9693),s=i.LongBits,u=i.utf8;function o(t,r){return RangeError("index out of range: "+t.pos+" + "+(r||1)+" > "+t.len)}function c(t){this.buf=t,this.pos=0,this.len=t.length}var h,f="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new c(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new c(t);throw Error("illegal buffer")},a=function(){return i.Buffer?function(t){return(c.create=function(t){return i.Buffer.isBuffer(t)?new e(t):f(t)})(t)}:f};function l(){var t=new s(0,0),r=0;if(!(this.len-this.pos>4)){for(;r<3;++r){if(this.pos>=this.len)throw o(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*r)>>>0,t}for(;r<4;++r)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(r=0,this.len-this.pos>4){for(;r<5;++r)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}else for(;r<5;++r){if(this.pos>=this.len)throw o(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function d(t,r){return(t[r-4]|t[r-3]<<8|t[r-2]<<16|t[r-1]<<24)>>>0}function _(){if(this.pos+8>this.len)throw o(this,8);return new s(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}c.create=a(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(h=4294967295,function(){if(h=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return h;if(h=(h|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return h;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return h}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return d(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return 0|d(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},c.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},c.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw o(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)},c.prototype.string=function(){var t=this.bytes();return u.read(t,0,t.length)},c.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw o(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw o(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},c._configure=function(t){e=t,c.create=a(),e._configure();var r=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return l.call(this)[r](!1)},uint64:function(){return l.call(this)[r](!0)},sint64:function(){return l.call(this).zzDecode()[r](!1)},fixed64:function(){return _.call(this)[r](!0)},sfixed64:function(){return _.call(this)[r](!1)}})}},593:function(t,r,n){"use strict";t.exports=s;var e=n(1408);(s.prototype=Object.create(e.prototype)).constructor=s;var i=n(9693);function s(t){e.call(this,t)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},s._configure()},5054:function(t){"use strict";t.exports={}},5994:function(t,r,n){"use strict";r.Service=n(7948)},7948:function(t,r,n){"use strict";t.exports=i;var e=n(9693);function i(t,r,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");e.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(r),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(e.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function t(r,n,i,s,u){if(!s)throw TypeError("request must be specified");var o=this;if(!u)return e.asPromise(t,o,r,n,i,s);if(o.rpcImpl)try{return o.rpcImpl(r,n[o.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(t,n){if(t)return o.emit("error",t,r),u(t);if(null!==n){if(!(n instanceof i))try{n=i[o.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return o.emit("error",t,r),u(t)}return o.emit("data",n,r),u(null,n)}o.end(!0)}))}catch(t){return o.emit("error",t,r),void setTimeout((function(){u(t)}),0)}else setTimeout((function(){u(Error("already ended"))}),0)},i.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},2630:function(t,r,n){"use strict";t.exports=i;var e=n(9693);function i(t,r){this.lo=t>>>0,this.hi=r>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var u=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(t){if(0===t)return s;var r=t<0;r&&(t=-t);var n=t>>>0,e=(t-n)/4294967296>>>0;return r&&(e=~e>>>0,n=~n>>>0,++n>4294967295&&(n=0,++e>4294967295&&(e=0))),new i(n,e)},i.from=function(t){if("number"==typeof t)return i.fromNumber(t);if(e.isString(t)){if(!e.Long)return i.fromNumber(parseInt(t,10));t=e.Long.fromString(t)}return t.low||t.high?new i(t.low>>>0,t.high>>>0):s},i.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var r=1+~this.lo>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(t){return e.Long?new e.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var o=String.prototype.charCodeAt;i.fromHash=function(t){return t===u?s:new i((o.call(t,0)|o.call(t,1)<<8|o.call(t,2)<<16|o.call(t,3)<<24)>>>0,(o.call(t,4)|o.call(t,5)<<8|o.call(t,6)<<16|o.call(t,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},i.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},i.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===r?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}},9693:function(t,r,n){"use strict";var e=r;function i(t,r,n){for(var e=Object.keys(r),i=0;i<e.length;++i)void 0!==t[e[i]]&&n||(t[e[i]]=r[e[i]]);return t}function s(t){function r(t,n){if(!(this instanceof r))return new r(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,r):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(r.prototype=Object.create(Error.prototype)).constructor=r,Object.defineProperty(r.prototype,"name",{get:function(){return t}}),r.prototype.toString=function(){return this.name+": "+this.message},r}e.asPromise=n(4537),e.base64=n(7419),e.EventEmitter=n(9211),e.float=n(945),e.inquire=n(7199),e.utf8=n(4997),e.pool=n(6662),e.LongBits=n(2630),e.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),e.global=e.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.isString=function(t){return"string"==typeof t||t instanceof String},e.isObject=function(t){return t&&"object"==typeof t},e.isset=e.isSet=function(t,r){var n=t[r];return!(null==n||!t.hasOwnProperty(r))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},e.Buffer=function(){try{var t=e.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(t){return"number"==typeof t?e.Buffer?e._Buffer_allocUnsafe(t):new e.Array(t):e.Buffer?e._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},e.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(t){return t?e.LongBits.from(t).toHash():e.LongBits.zeroHash},e.longFromHash=function(t,r){var n=e.LongBits.fromHash(t);return e.Long?e.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))},e.merge=i,e.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},e.newError=s,e.ProtocolError=s("ProtocolError"),e.oneOfGetter=function(t){for(var r={},n=0;n<t.length;++n)r[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===r[t[n]]&&null!=this[t[n]])return t[n]}},e.oneOfSetter=function(t){return function(r){for(var n=0;n<t.length;++n)t[n]!==r&&delete this[t[n]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var t=e.Buffer;t?(e._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},e._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}):e._Buffer_from=e._Buffer_allocUnsafe=null}},1173:function(t,r,n){"use strict";t.exports=a;var e,i=n(9693),s=i.LongBits,u=i.base64,o=i.utf8;function c(t,r,n){this.fn=t,this.len=r,this.next=void 0,this.val=n}function h(){}function f(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function a(){this.len=0,this.head=new c(h,0,0),this.tail=this.head,this.states=null}var l=function(){return i.Buffer?function(){return(a.create=function(){return new e})()}:function(){return new a}};function d(t,r,n){r[n]=255&t}function _(t,r){this.len=t,this.next=void 0,this.val=r}function v(t,r,n){for(;t.hi;)r[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)r[n++]=127&t.lo|128,t.lo=t.lo>>>7;r[n++]=t.lo}function m(t,r,n){r[n]=255&t,r[n+1]=t>>>8&255,r[n+2]=t>>>16&255,r[n+3]=t>>>24}a.create=l(),a.alloc=function(t){return new i.Array(t)},i.Array!==Array&&(a.alloc=i.pool(a.alloc,i.Array.prototype.subarray)),a.prototype._push=function(t,r,n){return this.tail=this.tail.next=new c(t,r,n),this.len+=r,this},(_.prototype=Object.create(c.prototype)).fn=function(t,r,n){for(;t>127;)r[n++]=127&t|128,t>>>=7;r[n]=t},a.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new _((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},a.prototype.int32=function(t){return t<0?this._push(v,10,s.fromNumber(t)):this.uint32(t)},a.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},a.prototype.int64=a.prototype.uint64=function(t){var r=s.from(t);return this._push(v,r.length(),r)},a.prototype.sint64=function(t){var r=s.from(t).zzEncode();return this._push(v,r.length(),r)},a.prototype.bool=function(t){return this._push(d,1,t?1:0)},a.prototype.sfixed32=a.prototype.fixed32=function(t){return this._push(m,4,t>>>0)},a.prototype.sfixed64=a.prototype.fixed64=function(t){var r=s.from(t);return this._push(m,4,r.lo)._push(m,4,r.hi)},a.prototype.float=function(t){return this._push(i.float.writeFloatLE,4,t)},a.prototype.double=function(t){return this._push(i.float.writeDoubleLE,8,t)};var p=i.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var e=0;e<t.length;++e)r[n+e]=t[e]};a.prototype.bytes=function(t){var r=t.length>>>0;if(!r)return this._push(d,1,0);if(i.isString(t)){var n=a.alloc(r=u.length(t));u.decode(t,n,0),t=n}return this.uint32(r)._push(p,r,t)},a.prototype.string=function(t){var r=o.length(t);return r?this.uint32(r)._push(o.write,r,t):this._push(d,1,0)},a.prototype.fork=function(){return this.states=new f(this),this.head=this.tail=new c(h,0,0),this.len=0,this},a.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(h,0,0),this.len=0),this},a.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this},a.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r},a._configure=function(t){e=t,a.create=l(),e._configure()}},3155:function(t,r,n){"use strict";t.exports=s;var e=n(1173);(s.prototype=Object.create(e.prototype)).constructor=s;var i=n(9693);function s(){e.call(this)}function u(t,r,n){t.length<40?i.utf8.write(t,r,n):r.utf8Write?r.utf8Write(t,n):r.write(t,n)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var e=0;e<t.length;)r[n++]=t[e++]}},s.prototype.bytes=function(t){i.isString(t)&&(t=i._Buffer_from(t,"base64"));var r=t.length>>>0;return this.uint32(r),r&&this._push(s.writeBytesBuffer,r,t),this},s.prototype.string=function(t){var r=i.Buffer.byteLength(t);return this.uint32(r),r&&this._push(u,r,t),this},s._configure()},1552:function(t,r,n){"use strict";n.d(r,{Be2:function(){return i},OcN:function(){return u},hmx:function(){return s},nGF:function(){return e}});var e="zc.crh.a.0",i="zc.hrh.smt.0",s="zc.hrh.smt.1",u="zc.hrh.grdbc"},1945:function(t,r,n){"use strict";n.d(r,{B_k:function(){return d},Bo8:function(){return f},Ccg:function(){return ht},Cqc:function(){return ot},DFx:function(){return F},EQN:function(){return R},E_F:function(){return Q},FJ5:function(){return p},FfT:function(){return q},GG4:function(){return Nt},Ig8:function(){return rt},IlQ:function(){return x},JP1:function(){return zt},JkR:function(){return tt},KC1:function(){return c},LXI:function(){return l},LbG:function(){return D},LbU:function(){return k},NAc:function(){return M},Ocl:function(){return et},Ozi:function(){return g},Pv8:function(){return bt},QQV:function(){return C},Qij:function(){return wt},Qmj:function(){return jt},QtR:function(){return a},Qvv:function(){return b},RBy:function(){return vt},Rp2:function(){return at},S42:function(){return ct},SCO:function(){return _},SxX:function(){return P},T5M:function(){return ut},THg:function(){return qt},Tmx:function(){return s},UB3:function(){return ft},UIH:function(){return u},UTJ:function(){return gt},VNz:function(){return H},Val:function(){return A},WMv:function(){return j},XDk:function(){return mt},Ylh:function(){return st},ZGq:function(){return Y},_2j:function(){return v},__d:function(){return xt},_jD:function(){return lt},abZ:function(){return w},asn:function(){return B},brp:function(){return W},cU0:function(){return V},dOV:function(){return h},drH:function(){return kt},dwx:function(){return dt},f$V:function(){return z},fj3:function(){return E},g6T:function(){return K},gQb:function(){return I},gqw:function(){return L},hxn:function(){return G},hyo:function(){return Z},iGb:function(){return J},iql:function(){return nt},k4s:function(){return St},kbn:function(){return $},nAK:function(){return m},p$g:function(){return pt},q$n:function(){return O},qC0:function(){return y},rBC:function(){return yt},s4z:function(){return Ot},sHT:function(){return T},sRQ:function(){return o},tuu:function(){return X},v0m:function(){return _t},vJ6:function(){return U},xg2:function(){return it},yNu:function(){return Mt},yhe:function(){return N},zXm:function(){return Et},zy3:function(){return S}});var e=n(6306),i="the user cancels the stream request.",s={code:1000002,message:"not login room"},u={code:1000014,message:"stream ID is too long"},o={code:1000015,message:"streamID is empty"},c={code:1000016,message:"stream ID contains illegal characters"},h={code:1000017,message:e.Fq},f={code:1000018,message:e.Qx},a={code:1100001,message:e.v4},l={code:1100002,message:"network timeout."},d={code:1100999,message:"unknown server error"},_={code:1101005,message:"signal hb fail"},v={code:1002014,msg:e.E3},m={code:1102017,message:"dispatch error"},p={code:1102018,message:"token expired"},g={code:1102021,message:"biz channel error."},b={code:1102022,message:"dispatch request timeout"},w={code:1102024,message:"invalid channel"},k={code:1003025,message:"stream is forbided by media server"},y={code:1003050,message:"extra info of publishing stream is null"},z={code:1103001,message:e.v4},E={code:1103002,message:"browser do not support"},q={code:1103010,message:"screen fail"},j={code:1103011,message:"enumerate devices fail"},O={code:1103021,message:"session request fail"},S={code:1103022,message:"create offer error"},N={code:1103023,message:"setLocalDescription error"},M={code:1103024,message:"mediaDesc error"},x={code:1103025,message:"other side offer error"},P={code:1103026,message:"candidate error"},A={code:1103027,message:"server session closed"},T={code:1103028,message:"ice connection error"},D={code:1103030,message:"negotiation timeout"},C={code:1103042,message:"screen canceled"},I={code:1103043,message:"screen not support"},U={code:1103044,message:e.b0},B={code:1103099,message:"stream is not capturing"},F={code:1103049,message:"repeated pull same stream"},R={code:1103050,message:"websocket disconnected"},L={code:1103051,message:"publisher retry timeout"},Q={code:1103053,message:"https is required"},J={code:1103055,message:e.eW},$={code:1103056,message:"publish is publishing"},G={code:1103058,message:"client ip changed"},H={code:1103059,message:"ttl over time"},V={code:1103060,message:"session request timeout"},X={code:1103061,message:"get media fail"},W={code:1103062,message:"update stream info fail"},Z={code:1103063,message:"publish target no response"},K={code:1103064,message:"get device not allowed"},Y={code:1103065,message:"device is not readable"},tt={code:1103066,message:"device does not meet constraints"},rt={code:1103067,message:"update sdp time out"},nt={code:1103068,message:"update sdp fail"},et={code:1103073,message:"video effect is starting, please operate after video effect is started"},it={code:1103078,message:"publish stream poor and net probe poor"},st={code:1103089,message:i},ut={code:1104001,message:"input parm error"},ot={code:1104021,message:"session request fail"},ct={code:1104022,message:"create offer error"},ht={code:1104023,message:"setLocalDescription error"},ft={code:1104024,message:"mediaDesc error"},at={code:1104025,message:"other side offer error"},lt={code:1104026,message:"candidate error"},dt={code:1104027,message:"server session closed"},_t={code:1104028,message:"ice connection error"},vt={code:1104029,message:"websocket disconnected"},mt={code:1104030,message:"negotiation timeout"},pt={code:1104031,message:"player retry timeout"},gt={code:1104032,message:"player is playing"},bt={code:1104033,message:"client ip changed"},wt={code:1104034,message:"ttl is over time"},kt={code:1104035,message:"reset session push"},yt={code:1104036,message:"session request timeout"},zt={code:1104037,message:"probe time out"},Et={code:1104038,message:"resource mode is not supported"},qt={code:1104039,message:"play stream not found"},jt={code:1104041,message:"stream quality poor and net probe poor"},Ot={code:1104042,message:i},St={code:1104043,message:"mini sdp error"},Nt={code:1103052,message:"publisher cdn push error"},Mt={code:1000055,message:"cdn url is invalid"},xt={code:1103100,message:"background process is start, but not subscribe yet"}},5245:function(t,r,n){"use strict";n.d(r,{HF:function(){return o},P9:function(){return u},Pp:function(){return c},eX:function(){return s}});var e=n(1945),i=n(4747),s={event:"/sdk/start_publish",error:{t:e.f$V,i:e.LXI,u:e.Qvv,l:e.nAK,_:e.dOV,v:e.vJ6,m:e.asn,p:e.Ocl,k:e.Tmx,q:e.gqw,j:e.LbU,O:e.FJ5,S:e.Val,N:e.LbG,P:e.zy3,A:e.yhe,T:e.cU0,D:e.q$n,C:e.IlQ,U:e.sHT,B:e.EQN,F:e.NAc,R:e.SxX,J:e.kbn,$:e.hxn,G:e.VNz,V:e.Ig8,X:e.iql,W:e.xg2,Z:e.__d,K:e.Ylh,Y:e.k4s},urls:i.Fs,is_center:i.V2,server_url:i.DX,publish_option:i.rV,message:i.DX,stream_id:i.DX,stream_sid:i.g1,room_id:i.DX,video_en_codec_id:i.g1,cap_w:i.g1,cap_h:i.g1,w:i.g1,h:i.g1,video_en_fps:i.g1,video_en_bps:i.g1,audio_c_channel_count:i.g1,audio_en_bps:i.g1,aec_level:i.g1,ans_level:i.g1,agc:i.V2,enable_camera:i.V2,enable_mic:i.V2,video_activate:i.V2,audio_activate:i.V2,gw_version:i.g1,use_na:i.g1},u={event:"/sdk/publish_target",error:{tt:e.QtR,rt:e.iGb,nt:e.Tmx,et:e.hyo,it:e.Ozi,st:e.abZ,ut:e.B_k}},o={event:"/mss/pushadd",error:{tt:e.QtR},stream_id:i.DX,url:i.DX},c={event:"/mss/pushdel",error:{tt:e.QtR},stream_id:i.DX,url:i.DX}},4747:function(t,r,n){"use strict";n.d(r,{DX:function(){return i},Fs:function(){return s},V2:function(){return o},g1:function(){return u},rV:function(){return e}});var e=function(t){return t},i=function(t){return t},s=function(t){return t},u=function(t){return t},o=function(t){return t}},6306:function(t,r,n){"use strict";n.d(r,{$E:function(){return f},E3:function(){return s},Fq:function(){return l},GJ:function(){return e},Qx:function(){return h},b0:function(){return o},eW:function(){return a},v4:function(){return c},wM:function(){return u},xT:function(){return i}});n(3720),n(1945);var e=Promise;document;function i(t,r){return Math.floor(Math.random()*(r-t+1))+t}var s="room not exist",u="device is not found",o="stream is not from zego",c="input param error",h="local stream wrong",f="no preview",a="publish stream no found",l="network is broken"},9399:function(t,r,n){"use strict";function e(t){return"string"==typeof t}n.d(r,{Rk:function(){return e}})},1054:function(t,r,n){"use strict";var e,i=n(2100),s=i.Reader,u=i.Writer,o=i.util,c=i.roots.default||(i.roots.default={});c.proto_media=((e={}).MediaServerCommonResponse=function(){function t(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)null!=t[r[n]]&&(this[r[n]]=t[r[n]])}return t.prototype.code=0,t.prototype.message="",t.create=function(r){return new t(r)},t.encode=function(t,r){return r||(r=u.create()),null!=t.code&&Object.hasOwnProperty.call(t,"code")&&r.uint32(8).uint32(t.code),null!=t.message&&Object.hasOwnProperty.call(t,"message")&&r.uint32(18).string(t.message),r},t.decode=function(t,r){t instanceof s||(t=s.create(t));for(var n=void 0===r?t.len:t.pos+r,e=new c.proto_media.MediaServerCommonResponse;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:e.code=t.uint32();break;case 2:e.message=t.string();break;default:t.skipType(7&i)}}return e},t}(),e.RelayPublishCdnRequest=function(){function t(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)null!=t[r[n]]&&(this[r[n]]=t[r[n]])}return t.prototype.request_seq=0,t.prototype.request_cmd=0,t.prototype.streamid="",t.prototype.cdn_server="",t.prototype.publish_timeout=0,t.prototype.request_seq_v2=o.Long?o.Long.fromBits(0,0,!0):0,t.create=function(r){return new t(r)},t.encode=function(t,r){return r||(r=u.create()),null!=t.request_seq&&Object.hasOwnProperty.call(t,"request_seq")&&r.uint32(8).uint32(t.request_seq),null!=t.request_cmd&&Object.hasOwnProperty.call(t,"request_cmd")&&r.uint32(16).int32(t.request_cmd),null!=t.streamid&&Object.hasOwnProperty.call(t,"streamid")&&r.uint32(26).string(t.streamid),null!=t.cdn_server&&Object.hasOwnProperty.call(t,"cdn_server")&&r.uint32(34).string(t.cdn_server),null!=t.publish_timeout&&Object.hasOwnProperty.call(t,"publish_timeout")&&r.uint32(40).uint32(t.publish_timeout),null!=t.request_seq_v2&&Object.hasOwnProperty.call(t,"request_seq_v2")&&r.uint32(48).uint64(t.request_seq_v2),r},t.decode=function(t,r){t instanceof s||(t=s.create(t));for(var n=void 0===r?t.len:t.pos+r,e=new c.proto_media.RelayPublishCdnRequest;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:e.request_seq=t.uint32();break;case 2:e.request_cmd=t.int32();break;case 3:e.streamid=t.string();break;case 4:e.cdn_server=t.string();break;case 5:e.publish_timeout=t.uint32();break;case 6:e.request_seq_v2=t.uint64();break;default:t.skipType(7&i)}}return e},t}(),e.RelayPublishCdnResponse=function(){function t(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)null!=t[r[n]]&&(this[r[n]]=t[r[n]])}return t.prototype.request_seq=0,t.prototype.response=null,t.prototype.request_seq_v2=o.Long?o.Long.fromBits(0,0,!0):0,t.create=function(r){return new t(r)},t.encode=function(t,r){return r||(r=u.create()),null!=t.request_seq&&Object.hasOwnProperty.call(t,"request_seq")&&r.uint32(8).uint32(t.request_seq),null!=t.response&&Object.hasOwnProperty.call(t,"response")&&c.proto_media.MediaServerCommonResponse.encode(t.response,r.uint32(18).fork()).ldelim(),null!=t.request_seq_v2&&Object.hasOwnProperty.call(t,"request_seq_v2")&&r.uint32(24).uint64(t.request_seq_v2),r},t.decode=function(t,r){t instanceof s||(t=s.create(t));for(var n=void 0===r?t.len:t.pos+r,e=new c.proto_media.RelayPublishCdnResponse;t.pos<n;){var i=t.uint32();switch(i>>>3){case 1:e.request_seq=t.uint32();break;case 2:e.response=c.proto_media.MediaServerCommonResponse.decode(t,t.uint32());break;case 3:e.request_seq_v2=t.uint64();break;default:t.skipType(7&i)}}return e},t}(),e),t.exports=c}},__webpack_module_cache__={};function __webpack_require__(t){var r=__webpack_module_cache__[t];if(void 0!==r)return r.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(r,{a:r}),r},__webpack_require__.d=function(t,r){for(var n in r)__webpack_require__.o(r,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};return function(){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{StreamCDN:function(){return p}});var t,r,n,e,i=__webpack_require__(1945),s=__webpack_require__(5245),u=__webpack_require__(9399),o=__webpack_require__(1552),c=__webpack_require__(6306),h=function(){function t(t,r){this.ot=t,this.ct=r,this.attempt=0,this.baseInterval=.3,this.capInterval=4.8,this.retryRule=0,this.retryTimer=null,this.maxTimer=null,this.isOverTime=!1,this.RETRY_MAX_TIME=60}return t.prototype.setRetryRule=function(t){switch(this.retryRule=t,t){case 1:this.baseInterval=.3,this.capInterval=32;break;case 0:this.baseInterval=.3,this.capInterval=4.8}},t.prototype.getRetryDelayByCount=function(t){var r;r=1===this.retryRule?t+2:t<2?0:t;var n=Math.min(this.capInterval,this.baseInterval*Math.pow(2,r)),e=(0,c.xT)(0,1e3*n);return this.ot.info("".concat(o.OcN," ").concat(this.attempt," ").concat(n," ").concat(e)),e},t.prototype.initCallback=function(t,r){this.sucCallBack=t,this.failCallBack=r},t.prototype.startMaxTime=function(){var t,r=this;this.ot.info("".concat(o.Be2," ").concat(null===(t=this.requestInfo)||void 0===t?void 0:t.streamID," call")),this.maxTimer?this.ot.warn("".concat(o.Be2," max timer")):(this.maxTimer=setTimeout((function(){var t;r.ot.warn("".concat(o.Be2," ").concat(null===(t=r.requestInfo)||void 0===t?void 0:t.streamID," over max time ").concat(r.RETRY_MAX_TIME,"s, stop retry")),r.isOverTime=!0,r.requestFail(r._err)}),1e3*this.RETRY_MAX_TIME),this.ot.info("".concat(o.Be2," maxTimer=").concat(this.maxTimer)))},t.prototype.invalid=function(){this.clearRetryTimer(),this.attempt=0},t.prototype.clearRetryTimer=function(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=null)},t.prototype.requestFail=function(t){this.invalid(),this.stopMaxTime(),this.failCallBack&&(this.failCallBack(t),this.resetCallback())},t.prototype.stopMaxTime=function(){this.ot.info("".concat(o.hmx," stop max timer")),this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},t.prototype.resetCallback=function(){this.sucCallBack=void 0,this.failCallBack=void 0},t}(),f=(t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},t(r,n)},function(r,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=r}t(r,n),r.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),a=function(t){function r(r,n,e){var i=t.call(this,r,n)||this;return i.ot=r,i.ct=n,i.ht=e,i.RETRY_MAX_TIME=8,i}return f(r,t),r.prototype.initReqParams=function(t,r){this.streamId=t,this.cdnPushConfig=r},r.prototype.active=function(t){var r=this;if(void 0===t&&(t=!1),this.retryTimer)this.ot.warn("".concat(o.nGF," was actived, ignore"));else if(this.isOverTime)this.ot.warn("".concat(o.nGF," retry over time, stop retry"));else{var n=function(){r.clearRetryTimer(),r.ht.sendCDNRequest(r.streamId,r.cdnPushConfig,(function(t,n){var e=t.body;r.invalid(),r.stopMaxTime(),r.sucCallBack&&(r.sucCallBack&&r.sucCallBack(e,n),r.resetCallback())}),(function(t){r._err=t;var n=t.status_code;r.isOverTime?r.requestFail(t):((429===n||n>=500&&n<600)&&r.setRetryRule(1),r.active())})),t||r.attempt++};if(t)n();else{var e=this.getRetryDelayByCount(this.attempt);this.retryTimer=setTimeout(n,e)}}},r}(h);r=__webpack_require__(1054).proto_media,n=__webpack_require__(2100),e=__webpack_require__(3720),n.util.Long=e,n.configure();var l,d=function(){function t(){}return t.prototype.encodeRelayPublishCdnReq=function(t){var n=r.RelayPublishCdnRequest.create(t);return r.RelayPublishCdnRequest.encode(n).finish()},t.prototype.decodeRelayPublishCdnRsp=function(t){var n=r.RelayPublishCdnResponse.decode(t);return n.request_seq_v2&&e.isLong(n.request_seq_v2)&&(n.request_seq_v2=n.request_seq_v2.toNumber()),n},t}();!function(t){t[t.I=0]="I",t[t.H=10]="H",t[t.M=100]="M",t[t.L=1e3]="L"}(l||(l={}));var _={},v={_sendCDNPublishByAccessHub:function(t,r,n,e){var o=this;this.mediaProtoBuf||(this.mediaProtoBuf=new d);var c=new a(this.logger,this.stateCenter,this);c.initReqParams(t,r);var h=function(t,r){try{var n=o.mediaProtoBuf.decodeRelayPublishCdnRsp(t);o.logger.info("zb.sh.pt rsp decode ".concat(JSON.stringify(n)));var e=(null==n?void 0:n.response)||{};return{code:e.code,msg:e.message}}catch(t){return{code:-1}}};c.initCallback((function(t,s){var u=h(t),c=u.code,f=u.msg;c&&0!=c?(o.logger.error("zb.sh.pt "+r.type+" error code: "+c+" "+f),e(5004===c?i.yNu:i.B_k," cmd: ".concat(r.type," ").concat(c," ").concat(f))):(o.logger.info("zb.sh.pt "+r.type+" success"),n&&n({errorCode:0,extendedData:""}))}),(function(t){var n=t.status_code,i=t.body,c=t.code,f=t.msg,a=JSON.parse(JSON.stringify(s.P9.error.ut)),l="";if(c)a={code:c,msg:f},l=f;else if(200===n)o.logger.info("zb.sh.pt error: "),a=s.P9.error.ut,l="cmd: ".concat(r.type);else{var d="";if((0,u.Rk)(i))d=i;else{var _=h(i);d=_.code+" "+_.msg}l="request media server fail, error: "+n+" "+d}o.logger.error("zb.sh.pt "+l),e&&e(a,l)})),c.startMaxTime(),c.active(!0)},sendCDNRequest:function(t,r,n,e){var i=this,s="addpush"===r.type?1:2,u={request_seq:this.stateCenter.cdnSeq++,request_cmd:s,streamid:t,cdn_server:r.pushUrl,request_seq_v2:this.stateCenter.cdnSeqV2++};this.logger.info("zb.sh.scpba "+JSON.stringify(u));var o=this.mediaProtoBuf.encodeRelayPublishCdnReq(u);this.sendHttpPBRequest({interfaceID:6,resID:this.stateCenter.appid+"/"+t},o,(function(t,r){i.logger.info("zb.sh.pt receive message "+(null==t?void 0:t.status_code)),n&&n(t,r)}),(function(t){e&&e(t)}),{timeout:4e3})},_publishTarget:function(t,r,n){this.logger.info("zb.sh.pt call");var e=t.streamID;this.stateCenter.testEnvironment&&(e="zegotest-"+this.stateCenter.appid+"-"+t.streamID),this.stateCenter.useNetAgent&&this._sendCDNPublishByAccessHub(e,t,r,n)}},m=function(){function t(t,r,n,e){this.ot=t,this.dataReport=r,this.ft=n,this.ct=e,this.screenShotReady=!1}return Object.defineProperty(t.prototype,"dt",{get:function(){return this.ct.reporter},enumerable:!1,configurable:!0}),t.prototype.publishTarget=function(t){var r=this,n="";switch(t.type){case"addpush":n=s.HF.event;break;case"delpush":case"clearpush":n=s.Pp.event}var e=this.dt.createSpan(l.H,{key:s.eX.event,par:t.streamID},{key:""},n);return e.setAttributes({url:s.Pp.url(t.pushUrl)}),new c.GJ((function(n,o){var c=function(t,n){r.ot.error("zb.pt "+(n||t.message)),r.dt.setError(e,t,n),o({errorCode:t.code,extendedData:t.message+(n?" "+n:"")})};if(-1==["addpush","delpush","clearpush"].indexOf(t.type))return r.ot.error("zb.sh.pt cdn push type error"),void c(i.GG4,"type error");if(t.streamID&&(0,u.Rk)(t.streamID))if(t.pushUrl&&(0,u.Rk)(t.pushUrl))if(r.ct.publishStreamList[t.streamID]){var h=r.ft.getRoomByStreamID(t.streamID);if(h){h.streamHandler._publishTarget(t,(function(t){e.end(),n(t)}),c)}else c(s.P9.error.nt)}else c(s.P9.error.rt);else c(s.P9.error.tt,"push url error");else c(s.P9.error.tt,"stream id type error")}))},t}(),p={type:"StreamCDN",install:function(t,r,n){for(var e in Object.defineProperty(r.prototype,"initStreamCDN",{value:function(){this.streamCDNModule=new m(this.logger,this.dataReport,this.streamCenter,this.stateCenter)},writable:!1}),_)Object.defineProperty(t.prototype,e,{value:_[e],writable:!1});for(var e in v)Object.defineProperty(n.prototype,e,{value:v[e],writable:!1})}}}(),__webpack_exports__}()}));