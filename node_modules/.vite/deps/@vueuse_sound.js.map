{
  "version": 3,
  "sources": ["../../@vueuse/sound/dist/index.mjs"],
  "sourcesContent": ["import { ref, onMounted, unref, watch } from 'vue-demi';\r\n\r\nfunction useSound(url, { volume = 1, playbackRate = 1, soundEnabled = true, interrupt = false, autoplay = false, onload, ...delegated } = {}) {\r\n  const HowlConstructor = ref(null);\r\n  const isPlaying = ref(false);\r\n  const duration = ref(null);\r\n  const sound = ref(null);\r\n  function handleLoad() {\r\n    if (typeof onload === \"function\")\r\n      onload.call(this);\r\n    duration.value = (duration.value || sound.value?.duration() || 0) * 1e3;\r\n    if (autoplay === true) {\r\n      isPlaying.value = true;\r\n    }\r\n  }\r\n  onMounted(async () => {\r\n    const howler = await import('howler');\r\n    HowlConstructor.value = howler.default.Howl;\r\n    sound.value = new HowlConstructor.value({\r\n      src: unref(url),\r\n      volume: unref(volume),\r\n      rate: unref(playbackRate),\r\n      onload: handleLoad,\r\n      ...delegated\r\n    });\r\n  });\r\n  watch(\r\n    () => [url],\r\n    () => {\r\n      if (HowlConstructor.value && HowlConstructor.value && sound && sound.value) {\r\n        sound.value = new HowlConstructor.value({\r\n          src: unref(url),\r\n          volume: unref(volume),\r\n          rate: unref(playbackRate),\r\n          onload: handleLoad,\r\n          ...delegated\r\n        });\r\n      }\r\n    }\r\n  );\r\n  watch(\r\n    () => [unref(volume), unref(playbackRate)],\r\n    () => {\r\n      if (sound.value) {\r\n        sound.value.volume(unref(volume));\r\n        sound.value.rate(unref(playbackRate));\r\n      }\r\n    }\r\n  );\r\n  const play = (options) => {\r\n    if (typeof options === \"undefined\") {\r\n      options = {};\r\n    }\r\n    if (!sound.value || !soundEnabled && !options.forceSoundEnabled) {\r\n      return;\r\n    }\r\n    if (interrupt) {\r\n      sound.value.stop();\r\n    }\r\n    if (options.playbackRate) {\r\n      sound.value.rate(options.playbackRate);\r\n    }\r\n    sound.value.play(options.id);\r\n    sound.value.once(\"end\", () => {\r\n      if (sound.value && sound.value && !sound.value.playing()) {\r\n        isPlaying.value = false;\r\n      }\r\n    });\r\n    isPlaying.value = true;\r\n  };\r\n  const stop = (id) => {\r\n    if (!sound.value) {\r\n      return;\r\n    }\r\n    sound.value.stop(typeof id === \"number\" ? id : void 0);\r\n    isPlaying.value = false;\r\n  };\r\n  const pause = (id) => {\r\n    if (!sound.value) {\r\n      return;\r\n    }\r\n    sound.value.pause(typeof id === \"number\" ? id : void 0);\r\n    isPlaying.value = false;\r\n  };\r\n  const returnedValue = {\r\n    play,\r\n    sound,\r\n    isPlaying,\r\n    duration,\r\n    pause,\r\n    stop\r\n  };\r\n  return returnedValue;\r\n}\r\n\r\nexport { useSound };\r\n"],
  "mappings": ";;;;;;;;;AAEA,SAAS,SAAS,KAAK,EAAE,SAAS,GAAG,eAAe,GAAG,eAAe,MAAM,YAAY,OAAO,WAAW,OAAO,WAAW,UAAU,IAAI,CAAC,GAAG;AAC5I,QAAM,kBAAkB,IAAI,IAAI;AAChC,QAAM,YAAY,IAAI,KAAK;AAC3B,QAAM,WAAW,IAAI,IAAI;AACzB,QAAM,QAAQ,IAAI,IAAI;AACtB,WAAS,aAAa;AAPxB;AAQI,QAAI,OAAO,WAAW;AACpB,aAAO,KAAK,IAAI;AAClB,aAAS,SAAS,SAAS,WAAS,WAAM,UAAN,mBAAa,eAAc,KAAK;AACpE,QAAI,aAAa,MAAM;AACrB,gBAAU,QAAQ;AAAA,IACpB;AAAA,EACF;AACA,YAAU,YAAY;AACpB,UAAM,SAAS,MAAM,OAAO;AAC5B,oBAAgB,QAAQ,OAAO,QAAQ;AACvC,UAAM,QAAQ,IAAI,gBAAgB,MAAM;AAAA,MACtC,KAAK,MAAM,GAAG;AAAA,MACd,QAAQ,MAAM,MAAM;AAAA,MACpB,MAAM,MAAM,YAAY;AAAA,MACxB,QAAQ;AAAA,MACR,GAAG;AAAA,IACL,CAAC;AAAA,EACH,CAAC;AACD;AAAA,IACE,MAAM,CAAC,GAAG;AAAA,IACV,MAAM;AACJ,UAAI,gBAAgB,SAAS,gBAAgB,SAAS,SAAS,MAAM,OAAO;AAC1E,cAAM,QAAQ,IAAI,gBAAgB,MAAM;AAAA,UACtC,KAAK,MAAM,GAAG;AAAA,UACd,QAAQ,MAAM,MAAM;AAAA,UACpB,MAAM,MAAM,YAAY;AAAA,UACxB,QAAQ;AAAA,UACR,GAAG;AAAA,QACL,CAAC;AAAA,MACH;AAAA,IACF;AAAA,EACF;AACA;AAAA,IACE,MAAM,CAAC,MAAM,MAAM,GAAG,MAAM,YAAY,CAAC;AAAA,IACzC,MAAM;AACJ,UAAI,MAAM,OAAO;AACf,cAAM,MAAM,OAAO,MAAM,MAAM,CAAC;AAChC,cAAM,MAAM,KAAK,MAAM,YAAY,CAAC;AAAA,MACtC;AAAA,IACF;AAAA,EACF;AACA,QAAM,OAAO,CAAC,YAAY;AACxB,QAAI,OAAO,YAAY,aAAa;AAClC,gBAAU,CAAC;AAAA,IACb;AACA,QAAI,CAAC,MAAM,SAAS,CAAC,gBAAgB,CAAC,QAAQ,mBAAmB;AAC/D;AAAA,IACF;AACA,QAAI,WAAW;AACb,YAAM,MAAM,KAAK;AAAA,IACnB;AACA,QAAI,QAAQ,cAAc;AACxB,YAAM,MAAM,KAAK,QAAQ,YAAY;AAAA,IACvC;AACA,UAAM,MAAM,KAAK,QAAQ,EAAE;AAC3B,UAAM,MAAM,KAAK,OAAO,MAAM;AAC5B,UAAI,MAAM,SAAS,MAAM,SAAS,CAAC,MAAM,MAAM,QAAQ,GAAG;AACxD,kBAAU,QAAQ;AAAA,MACpB;AAAA,IACF,CAAC;AACD,cAAU,QAAQ;AAAA,EACpB;AACA,QAAM,OAAO,CAAC,OAAO;AACnB,QAAI,CAAC,MAAM,OAAO;AAChB;AAAA,IACF;AACA,UAAM,MAAM,KAAK,OAAO,OAAO,WAAW,KAAK,MAAM;AACrD,cAAU,QAAQ;AAAA,EACpB;AACA,QAAM,QAAQ,CAAC,OAAO;AACpB,QAAI,CAAC,MAAM,OAAO;AAChB;AAAA,IACF;AACA,UAAM,MAAM,MAAM,OAAO,OAAO,WAAW,KAAK,MAAM;AACtD,cAAU,QAAQ;AAAA,EACpB;AACA,QAAM,gBAAgB;AAAA,IACpB;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA,SAAO;AACT;",
  "names": []
}
